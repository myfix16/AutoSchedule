!function(e){var t={};function s(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(i,l,function(t){return e[t]}.bind(null,l));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s="./bundles/listbox.js")}({"./bundles/listbox.js":function(e,t,s){"use strict";s.r(t);s("./modules/listbox.js");s.p="_content/Syncfusion.Blazor.DropDowns/scripts/"},"./modules/listbox.js":function(e,t){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sfBlazor.modules.listbox="dropdowns.ListBox",sfBlazor.loadDependencies(sfBlazor.dependencyJson.listbox,(function(){sf.dropdowns=sf.base.extend({},sf.dropdowns,function(e){"use strict";var t,i=(t=function(e,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])})(e,s)},function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),l=function(e,t,i,l){var a,n=arguments.length,o=n<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,i):l;if("object"===("undefined"==typeof Reflect?"undefined":s(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,l);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(o=(n<3?a(o):n>3?a(t,i,o):a(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),l([sf.base.Property("Multiple")],t.prototype,"mode",void 0),l([sf.base.Property(!1)],t.prototype,"showCheckbox",void 0),l([sf.base.Property(!1)],t.prototype,"showSelectAll",void 0),l([sf.base.Property("Left")],t.prototype,"checkboxPosition",void 0),t}(sf.base.ChildProperty),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),l([sf.base.Property([])],t.prototype,"items",void 0),l([sf.base.Property("Right")],t.prototype,"position",void 0),t}(sf.base.ChildProperty),o=function(e){function t(t,s){var i=e.call(this,t,s)||this;return i.isValidKey=!1,i.keyDownStatus=!1,i}var o;return i(t,e),o=t,t.prototype.addItem=function(t,s){e.prototype.addItem.call(this,t,s)},t.prototype.render=function(){this.inputString="",this.initLoad=!0,this.isCustomFiltering=!1,this.initialSelectedOptions=this.value,sf.base.isBlazor()&&this.isServerRendered?(this.list=this.element.parentElement,this.liCollections=this.list.querySelectorAll("."+sf.lists.cssClass.li),this.mainList=this.ulElement=this.list.querySelector("ul"),this.setSelection(this.value),this.allowFiltering&&this.setFiltering(),this.initToolbarAndStyles(),this.updateSelectionSettings(),this.wireEvents(),this.initDraggable(),this.initLoad=!1):e.prototype.render.call(this),this.renderComplete()},t.prototype.updateBlazorListData=function(e,t,s){t&&(this.liCollections=this.list.querySelectorAll("."+sf.lists.cssClass.li),this.mainList=this.ulElement=this.list.querySelector("ul"),this.allowDragAndDrop&&!this.ulElement.classList.contains("e-sortable")&&this.initDraggable(),s&&this.selectItems(this.listData,!1)),sf.base.isNullOrUndefined(e)||(this.sortedData=this.jsonData=this.listData=e)},t.prototype.initWrapper=function(){var e=this.createElement("select",{className:"e-hidden-select",attrs:{multiple:""}});this.list.classList.add("e-listbox-wrapper"),this.itemTemplate&&this.list.classList.add("e-list-template"),this.list.classList.add("e-wrapper"),"EJS-LISTBOX"===this.element.tagName?(this.element.setAttribute("tabindex","0"),this.initLoad&&this.element.appendChild(this.list)):(this.initLoad&&this.element.parentElement.insertBefore(this.list,this.element),this.list.insertBefore(this.element,this.list.firstChild),this.element.style.display="none"),this.list.insertBefore(e,this.list.firstChild),this.list.getElementsByClassName("e-list-item")[0]&&this.list.getElementsByClassName("e-list-item")[0].classList.remove(sf.dropdowns.dropDownBaseClasses.focus),sf.base.removeClass([this.list],[sf.dropdowns.dropDownBaseClasses.content,sf.dropdowns.dropDownBaseClasses.root]),this.validationAttribute(this.element,e),this.list.setAttribute("role","listbox"),sf.base.attributes(this.list,{role:"listbox","aria-multiselectable":"Multiple"===this.selectionSettings.mode?"true":"false"}),this.updateSelectionSettings()},t.prototype.updateSelectionSettings=function(){if(this.selectionSettings.showCheckbox&&this.selectionSettings.showSelectAll&&this.liCollections.length){var e=new sf.base.L10n(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=e.getConstant("selectAllText"),this.unSelectAllText=e.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{})}},t.prototype.initDraggable=function(){var e=this;this.ulElement&&(this.ulElement.id=this.element.id+"_parent"),this.allowDragAndDrop&&new sf.lists.Sortable(this.ulElement,{scope:this.scope,itemClass:"e-list-item",dragStart:this.triggerDragStart.bind(this),drag:this.triggerDrag.bind(this),beforeDrop:this.beforeDragEnd.bind(this),drop:this.dragEnd.bind(this),placeHolder:function(){return e.createElement("span",{className:"e-placeholder"})},helper:function(t){var s=e.list.cloneNode(),i=t.sender.cloneNode(!0);s.appendChild(i);var l=e.getItems()[0];return s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",(e.value&&e.value.length)>1&&e.isSelected(i)&&i.appendChild(e.createElement("span",{className:"e-list-badge",innerHTML:e.value.length+""})),s.style.zIndex=sf.popups.getZindexPartial(e.element)+"",s}})},t.prototype.updateActionCompleteData=function(e,t){this.jsonData.push(t)},t.prototype.initToolbar=function(){var e,t=this.toolbarSettings.position,s=this.element.getAttribute("data-value");if(this.toolbarSettings.items.length){var i=this.createElement("div",{className:"e-listbox-tool",attrs:{role:"toolbar"}}),l=this.createElement("div",{className:"e-listboxtool-wrapper e-"+t.toLowerCase()});this.list.parentElement.insertBefore(l,this.list),l.appendChild("Right"===t?this.list:i),l.appendChild("Right"===t?i:this.list),this.createButtons(i),this.element.id||(this.element.id=sf.base.getUniqueID("e-"+this.getModuleName())),this.scope?document.querySelector(this.scope).setAttribute("data-value",this.element.id):this.updateToolBarState()}e=this.element.getAttribute("data-value"),s&&e&&s!==e?(this.tBListBox=sf.base.getComponent(document.getElementById(s),this.getModuleName()),this.tBListBox.updateToolBarState()):e&&(this.tBListBox=sf.base.getComponent(document.getElementById(e),this.getModuleName()),this.tBListBox.updateToolBarState())},t.prototype.createButtons=function(e){var t,s,i=this,l=new sf.base.L10n(this.getModuleName(),{moveUp:"Move Up",moveDown:"Move Down",moveTo:"Move To",moveFrom:"Move From",moveAllTo:"Move All To",moveAllFrom:"Move All From"},this.locale);this.toolbarSettings.items.forEach((function(a){s=l.getConstant(a),t=i.createElement("button",{attrs:{type:"button","data-value":a,title:s,"aria-label":s}}),e.appendChild(t),new sf.buttons.Button({iconCss:"e-icons e-"+a.toLowerCase()},t).createElement=i.createElement}))},t.prototype.validationAttribute=function(t,s){e.prototype.validationAttribute.call(this,t,s),s.required=t.required,t.required=!1},t.prototype.setHeight=function(){(this.toolbarSettings.items.length?this.list.parentElement:this.list).style.height=sf.base.formatUnit(this.height),this.allowFiltering&&this.height.toString().indexOf("%")<0?sf.base.addClass([this.list],"e-filter-list"):sf.base.removeClass([this.list],"e-filter-list")},t.prototype.setCssClass=function(){var e=this.toolbarSettings.items.length?this.list.parentElement:this.list;this.cssClass&&sf.base.addClass([e],this.cssClass.split(" ")),this.enableRtl&&sf.base.addClass([e],"e-rtl")},t.prototype.setEnable=function(){var e=this.toolbarSettings.items.length?this.list.parentElement:this.list;this.enabled?sf.base.removeClass([e],sf.lists.cssClass.disabled):(sf.base.addClass([e],sf.lists.cssClass.disabled),sf.base.isBlazor()&&this.isServerRendered&&this.toolbarSettings.items.length&&sf.base.removeClass([this.list],sf.lists.cssClass.disabled))},t.prototype.showSpinner=function(){this.spinner||(this.spinner=this.createElement("div",{className:"e-listbox-wrapper"})),this.spinner.style.height=sf.base.formatUnit(this.height),this.element.parentElement.insertBefore(this.spinner,this.element.nextSibling),sf.popups.createSpinner({target:this.spinner},this.createElement),sf.popups.showSpinner(this.spinner)},t.prototype.hideSpinner=function(){this.spinner.querySelector(".e-spinner-pane")&&sf.popups.hideSpinner(this.spinner),this.spinner.parentElement&&sf.base.detach(this.spinner)},t.prototype.onInput=function(){this.keyDownStatus?this.isValidKey=!0:this.isValidKey=!1,this.keyDownStatus=!1,this.refreshClearIcon()},t.prototype.clearText=function(){this.filterInput.value="",this.refreshClearIcon();var e=document.createEvent("KeyboardEvent");this.isValidKey=!0,this.KeyUp(e)},t.prototype.refreshClearIcon=function(){this.filterInput.parentElement.querySelector("."+r.clearIcon)&&(this.filterInput.parentElement.querySelector("."+r.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible")},t.prototype.onActionComplete=function(t,s,i){var l;if(this.allowFiltering&&this.list.getElementsByClassName("e-filter-parent")[0]&&(l=sf.base.isBlazor()&&this.isServerRendered?this.list.getElementsByClassName("e-filter-parent")[0]:this.list.getElementsByClassName("e-filter-parent")[0].cloneNode(!0)),e.prototype.onActionComplete.call(this,t,s,i),this.allowFiltering&&!sf.base.isNullOrUndefined(l)&&(this.list.insertBefore(l,this.list.firstElementChild),sf.base.isBlazor()||this.isServerRendered||(this.filterParent=this.list.getElementsByClassName("e-filter-parent")[0],this.filterWireEvents(l))),this.initWrapper(),this.setSelection(),this.initDraggable(),this.mainList=this.ulElement,this.initLoad)this.jsonData=[],sf.base.extend(this.jsonData,s,[]),this.initToolbarAndStyles(),this.wireEvents(),this.showCheckbox&&this.setCheckboxPosition(),this.allowFiltering&&this.setFiltering();else if(this.allowFiltering){var a=this.list.getElementsByClassName("e-input-filter")[0],n=this.filterInput.value.length;a.selectionStart=n,a.selectionEnd=n,a.focus()}this.initLoad=!1},t.prototype.initToolbarAndStyles=function(){this.initToolbar(),this.setCssClass(),this.setEnable(),this.setHeight()},t.prototype.triggerDragStart=function(e){var t,s=this;e=sf.base.extend(this.getDragArgs(e),{dragSelected:!0}),sf.base.Browser.isIos&&(this.list.style.overflow="hidden"),this.trigger("dragStart",e,(function(i){s.allowDragAll=i.dragSelected,s.allowDragAll||(t=s.ulElement.getElementsByClassName("e-list-badge")[0])&&sf.base.detach(t),sf.base.isBlazor()&&e.bindEvents(e.dragElement)}))},t.prototype.triggerDrag=function(e){this.trigger("drag",this.getDragArgs(e));var t=this.getComponent(e.target);if(t&&0===t.listData.length){var s=t.ulElement.getElementsByClassName("e-list-nrt")[0];s&&t.ulElement.removeChild(s)}},t.prototype.beforeDragEnd=function(e){var t=e.droppedElement.getAttribute("data-value");this.value.indexOf(t)>-1?e.items=this.getDataByValues(this.value):e.items=this.getDataByValues([t]),this.trigger("beforeDrop",e)},t.prototype.dragEnd=function(e){var t,s,i,l,a,n,o=this,r=this.getFormattedValue(e.droppedElement.getAttribute("data-value")),c=this.getComponent(e.droppedElement),h=this.getDragArgs({target:e.droppedElement},!0),p={previousData:this.dataSource},u={previousData:c.dataSource},d=sf.base.extend({},h,{target:e.target,source:{previousData:this.dataSource}});if(c!==this){var f=sf.base.extend(p,{currentData:this.listData});d=sf.base.extend(d,{source:f,destination:u})}if(sf.base.Browser.isIos&&(this.list.style.overflow=""),c===this){var m=this.ulElement;t=[].slice.call(this.listData),s=[].slice.call(this.liCollections),i=[].slice.call(this.jsonData),n=[].slice.call(this.sortedData);var g=e.currentIndex,b=e.currentIndex=this.getCurIdx(this,e.currentIndex),v=t.indexOf(this.getDataByValue(r)),y=i.indexOf(this.getDataByValue(r)),S=n.indexOf(this.getDataByValue(r));if(t.splice(b,0,t.splice(v,1)[0]),n.splice(g,0,n.splice(S,1)[0]),i.splice(b,0,i.splice(y,1)[0]),sf.base.isBlazor()||s.splice(b,0,s.splice(v,1)[0]),this.allowDragAll&&(a=this.value&&Array.prototype.indexOf.call(this.value,r)>-1?this.value:[r]).forEach((function(l){if(l!==r){var a=t.indexOf(o.getDataByValue(l)),c=i.indexOf(o.getDataByValue(l)),h=n.indexOf(o.getDataByValue(l));a>b&&b++,i.splice(b,0,i.splice(c,1)[0]),t.splice(b,0,t.splice(a,1)[0]),n.splice(g,0,n.splice(h,1)[0]),sf.base.isBlazor()||(s.splice(b,0,s.splice(a,1)[0]),m.insertBefore(o.getItems()[o.getIndexByValue(l)],m.getElementsByClassName("e-placeholder")[0]))}else if(sf.base.isBlazor()){var p=[].slice.call(o.ulElement.getElementsByClassName(sf.lists.cssClass.li)),u=o.ulElement.removeChild(p[e.currentIndex]);p.splice(e.currentIndex,1),o.ulElement.insertBefore(u,p[e.previousIndex])}})),this.listData=t,this.jsonData=i,this.sortedData=n,this.liCollections=s,sf.base.isBlazor()){var C=this.value;this.interopAdaptor.invokeMethodAsync("UpdateListData",this.listData).then((function(){o.updateBlazorListData(null,!0),o.selectItems(o.listData,!1),o.selectItems(C)}))}}else{var E,x=[].slice.call(this.liCollections),A=e.currentIndex=this.getCurIdx(c,e.currentIndex),B=c.ulElement;t=[].slice.call(c.listData),s=[].slice.call(c.liCollections),i=[].slice.call(c.jsonData),n=[].slice.call(c.sortedData),a=this.value&&Array.prototype.indexOf.call(this.value,r)>-1&&this.allowDragAll?this.value:[r];var D=[].slice.call(this.listData),k=[].slice.call(this.sortedData);if(a.forEach((function(a,c){l=o.getDataByValue(a);var h=o.listData.indexOf(l),p=o.jsonData.indexOf(l),u=o.sortedData.indexOf(l);D.splice(h,1),o.jsonData.splice(p,1),k.splice(u,1),o.listData=D,o.sortedData=k;var d=a===r?e.currentIndex:A;if(t.splice(d,0,l),i.splice(d,0,l),n.splice(d,0,l),sf.base.isBlazor()||s.splice(d,0,x.splice(h,1)[0]),a)E=o.getItems()[o.getIndexByValue(a)];else for(var f=o.getItems(),m=0;m<f.length;m++)if(null===f[m].getAttribute("data-value")&&f[m].classList.contains("e-list-item")){E=f[m];break}E||(E=e.helper),o.removeSelected(o,a===r?[e.droppedElement]:[E]),sf.base.isBlazor()?0===c&&o.ulElement.insertBefore(B.getElementsByClassName(sf.lists.cssClass.li)[e.currentIndex],o.ulElement.getElementsByClassName(sf.lists.cssClass.li)[e.previousIndex]):B.insertBefore(E,B.getElementsByClassName("e-placeholder")[0]),A++})),sf.base.isBlazor())this.interopAdaptor.invokeMethodAsync("UpdateListData",this.listData).then((function(){o.updateSelectedOptions(),o.fields.groupBy&&o.setSelection(),o.updateBlazorListData(null,!0,null==o.value||!o.value.length)})),c.interopAdaptor.invokeMethodAsync("UpdateListData",t).then((function(){("None"!==c.sortOrder||o.selectionSettings.showCheckbox!==c.selectionSettings.showCheckbox||c.fields.groupBy)&&c.setSelection(),c.updateBlazorListData(null,!0,null==c.value||!c.value.length)}));else{if(this.fields.groupBy&&(this.ulElement.innerHTML=this.renderItems(this.listData,this.fields).innerHTML,this.setSelection()),"None"!==c.sortOrder||this.selectionSettings.showCheckbox!==c.selectionSettings.showCheckbox||c.fields.groupBy){var I=sf.base.getComponent(B,"sortable");B.innerHTML=c.renderItems(t,c.fields).innerHTML,I.placeHolderElement&&B.appendChild(I.placeHolderElement),B.appendChild(e.helper),c.setSelection()}this.liCollections=x,c.liCollections=s}c.jsonData=sf.base.extend([],[],i,!1),c.listData=sf.base.extend([],[],t,!1),c.sortedData=sf.base.extend([],[],n,!1),0===this.listData.length&&this.l10nUpdate()}if(this===c){f=sf.base.extend(p,{currentData:t});d=sf.base.extend(d,{source:f})}else{var w=sf.base.extend(u,{currentData:t});d=sf.base.extend(d,{destination:w})}this.trigger("drop",d)},t.prototype.removeSelected=function(e,t){e.selectionSettings.showCheckbox?t.forEach((function(e){e.getElementsByClassName("e-frame")[0].classList.remove("e-check")})):sf.base.removeClass(t,sf.lists.cssClass.selected)},t.prototype.getCurIdx=function(e,t){return e.fields.groupBy&&(t-=[].slice.call(e.ulElement.children).slice(0,t).filter((function(e){return e.classList.contains(sf.lists.cssClass.group)})).length),t},t.prototype.getComponent=function(e){var t,s="EJS-LISTBOX"===this.element.tagName?sf.base.closest(e,".e-listbox"):sf.base.closest(e,".e-listbox-wrapper")&&sf.base.closest(e,".e-listbox-wrapper").querySelector(".e-listbox");return s&&(t=sf.base.getComponent(s,this.getModuleName())),t},t.prototype.listOption=function(t,s){return this.listCurrentOptions=e.prototype.listOption.call(this,t,s),this.listCurrentOptions=sf.base.extend({},this.listCurrentOptions,{itemCreated:this.triggerBeforeItemRender.bind(this)},!0),this.notify("listoption",{module:"CheckBoxSelection"}),this.listCurrentOptions},t.prototype.triggerBeforeItemRender=function(e){e.item.setAttribute("tabindex","-1"),this.trigger("beforeItemRender",{element:e.item,item:e.curData})},t.prototype.requiredModules=function(){var e=[];return this.selectionSettings.showCheckbox&&e.push({member:"CheckBoxSelection",args:[this]}),e},t.prototype.enableItems=function(e,t,i){var l,a=this;void 0===t&&(t=!0),e.forEach((function(e){var n;if(sf.base.isBlazor()&&"object"===s(e)){if(n=sf.base.getValue(i?a.fields.value:a.fields.text,e),sf.base.isNullOrUndefined(n))return}else n=e;(l=a.findListElement(a.list,"li","data-value",i?n:a.getValueByText(n)))&&(t?(sf.base.removeClass([l],sf.lists.cssClass.disabled),l.removeAttribute("aria-disabled")):(sf.base.addClass([l],sf.lists.cssClass.disabled),l.setAttribute("aria-disabled","true")))}))},t.prototype.selectItems=function(e,t,s){void 0===t&&(t=!0),this.setSelection(e,t,!s),this.updateSelectedOptions()},t.prototype.selectAll=function(e){void 0===e&&(e=!0),this.selectAllItems(e)},t.prototype.addItems=function(t,s){e.prototype.addItem.call(this,t,s)},t.prototype.removeItems=function(e,t){this.removeItem(e,t)},t.prototype.removeItem=function(e,t){var s=[],i=this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li);if(e){e=e instanceof Array?e:[e];var l=this.fields,a=void 0,n=[],o=void 0;sf.base.extend(n,[],this.listData);for(var r=[],c=[],h=0;h<e.length;h++){a=e[h]instanceof Object?sf.base.getValue(l.value,e[h]):e[h].toString();for(var p=0,u=n.length;p<u;p++)(n[p]instanceof Object?sf.base.getValue(l.value,n[p]):n[p].toString())===a&&(o=this.getIndexByValue(a),s.push(i[o]),r.push(p),c.push(o))}for(var d=r.length-1;d>0;d--)this.listData.splice(r[d],1);for(d=c.length-1;d>0;d--)this.liCollections.splice(c[d],1)}else t=t||0,s.push(i[t]),this.listData.splice(t,1),this.updateLiCollection(t);for(p=0;p<s.length;p++)this.ulElement.removeChild(s[p]);0===this.listData.length&&this.l10nUpdate()},t.prototype.getDataByValues=function(e){for(var t=[],s=0;s<e.length;s++)t.push(this.getDataByValue(e[s]));return t},t.prototype.moveUp=function(e){var t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!0,!1,t)},t.prototype.moveDown=function(e){var t=e?this.getElemByValue(e):this.getSelectedItems();this.moveUpDown(!1,!1,t)},t.prototype.moveTo=function(e,t,s){var i=e?this.getElemByValue(e):this.getSelectedItems(),l=s?sf.base.getComponent(s,o):this.getScopedListBox();this.moveData(this,l,!1,i,t)},t.prototype.moveAllTo=function(e,t){var s=e?sf.base.getComponent(e,o):this.getScopedListBox();this.moveAllData(this,s,!1,t)},t.prototype.getDataList=function(){return this.jsonData},t.prototype.getSortedList=function(){var e,t;if(e=t=this.sortedData,this.fields.groupBy){e=[];for(var s=0;s<t.length;s++)t[s].isHeader||e.push(t[s])}return e},t.prototype.getElemByValue=function(e){for(var t=[],s=0;s<e.length;s++)t.push(this.ulElement.querySelector('[data-value ="'+e[s]+'"]'));return t},t.prototype.updateLiCollection=function(e){var t=[].slice.call(this.liCollections);t.splice(e,1),this.liCollections=t},t.prototype.selectAllItems=function(e,t){var s=this;if([].slice.call(this.getItems()).forEach((function(t){if(!t.classList.contains(sf.lists.cssClass.disabled))if(s.selectionSettings.showCheckbox){var i=t.getElementsByClassName("e-check")[0];(!i&&e||i&&!e)&&(s.notify("updatelist",{li:t,module:"listbox"}),s.maximumSelectionLength>=s.list.querySelectorAll(".e-list-item span.e-check").length&&s.checkMaxSelection())}else e?t.classList.add(sf.lists.cssClass.selected):t.classList.remove(sf.lists.cssClass.selected)})),this.updateSelectedOptions(),this.allowFiltering&&this.selectionSettings.showCheckbox){var i=this.list.getElementsByTagName("li"),l=0;if(e){var a=function(){var e=n.getFormattedValue(i[l].getAttribute("data-value"));n.value.some((function(t){return t===e}))||n.value.push(n.getFormattedValue(i[l].getAttribute("data-value")))},n=this;for(l=0;l<i.length;l++)a()}else{var o=function(){var e=r.getFormattedValue(i[l].getAttribute("data-value"));r.value=r.value.filter((function(t){return t!==e}))},r=this;for(l=0;l<i.length;l++)o()}document.querySelectorAll("ul").length<2&&this.updateMainList()}this.triggerChange(this.getSelectedItems(),t)},t.prototype.updateMainList=function(){var e=this.mainList.querySelectorAll(".e-list-item"),t=this.ulElement.querySelectorAll(".e-list-item"),s=e.length,i=t.length;if(this.selectionSettings.showCheckbox||document.querySelectorAll("ul").length>1||s!==i)for(var l=0,a=0,n=0;l<s;){if(this.value)for(;a<this.value.length;a++)e[l].getAttribute("data-value")===this.value[a]&&n++;!n&&this.selectionSettings.showCheckbox&&e[l].getElementsByClassName("e-frame")[0].classList.remove("e-check"),document.querySelectorAll("ul").length>1&&n&&s!==i?(this.mainList.removeChild(this.mainList.getElementsByTagName("li")[l]),l=0):l++,n=0,a=0}},t.prototype.wireEvents=function(){var e=sf.base.closest(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;sf.base.EventHandler.add(this.list,"click",this.clickHandler,this),sf.base.EventHandler.add(t,"keydown",this.keyDownHandler,this),sf.base.EventHandler.add(t,"focusout",this.focusOutHandler,this),this.wireToolbarEvent(),this.selectionSettings.showCheckbox&&sf.base.EventHandler.remove(document,"mousedown",this.checkBoxSelectionModule.onDocumentClick),(this.fields.groupBy||this.element.querySelector("select>optgroup"))&&sf.base.EventHandler.remove(this.list,"scroll",this.setFloatingHeader),e&&sf.base.EventHandler.add(e,"reset",this.formResetHandler,this)},t.prototype.wireToolbarEvent=function(){this.toolbarSettings.items.length&&sf.base.EventHandler.add(this.getToolElem(),"click",this.toolbarClickHandler,this)},t.prototype.unwireEvents=function(){var e=sf.base.closest(this.element,"form"),t="EJS-LISTBOX"===this.element.tagName?this.element:this.list;sf.base.EventHandler.remove(this.list,"click",this.clickHandler),sf.base.EventHandler.remove(t,"keydown",this.keyDownHandler),sf.base.EventHandler.remove(t,"focusout",this.focusOutHandler),this.allowFiltering&&this.clearFilterIconElem&&sf.base.EventHandler.remove(this.clearFilterIconElem,"click",this.clearText),this.toolbarSettings.items.length&&sf.base.EventHandler.remove(this.getToolElem(),"click",this.toolbarClickHandler),e&&sf.base.EventHandler.remove(e,"reset",this.formResetHandler)},t.prototype.clickHandler=function(e){this.selectHandler(e)},t.prototype.checkSelectAll=function(){for(var e=0,t=this.list.querySelectorAll("li."+sf.dropdowns.dropDownBaseClasses.li),s=0;s<t.length;s++)t[s].classList.contains("e-disabled")||e++;var i=this.getSelectedItems().length;this.showSelectAll&&e&&this.notify("checkSelectAll",{module:"CheckBoxSelection",value:e===i?"check":0===i?"uncheck":"indeterminate"})},t.prototype.getQuery=function(e){var t=e?e.clone():this.query?this.query.clone():new sf.data.Query;if(this.allowFiltering){var s=""===this.inputString?"contains":this.filterType,i=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof sf.data.DataManager||"string"!==i)&&"number"!==i){var l=this.fields.text?this.fields.text:"";t.where(l,s,this.inputString,this.ignoreCase,this.ignoreAccent)}else t.where("",s,this.inputString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new sf.data.Query);return t},t.prototype.setFiltering=function(){var e;if(sf.base.isNullOrUndefined(this.filterParent))return sf.base.isBlazor()&&this.isServerRendered?(this.filterParent=this.list.querySelector(".e-filter-parent"),this.filterInput=this.list.querySelector(".e-input-filter")):(this.filterParent=this.createElement("span",{className:r.filterParent}),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:r.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element),sf.base.Browser.isDevice,e=sf.inputs.Input.createInput({element:this.filterInput,buttons:[r.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),sf.base.append([e.container],this.filterParent),sf.base.prepend([this.filterParent],this.list),sf.base.attributes(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})),this.height.toString().indexOf("%")<0&&sf.base.addClass([this.list],"e-filter-list"),this.inputString=this.filterInput.value,this.filterWireEvents(),e},t.prototype.filterWireEvents=function(e){e&&(this.filterInput=e.querySelector(".e-input-filter")),this.clearFilterIconElem=this.filterInput.parentElement.querySelector("."+r.clearIcon),this.clearFilterIconElem&&(sf.base.EventHandler.add(this.clearFilterIconElem,"click",this.clearText,this),e||(this.clearFilterIconElem.style.visibility="hidden")),sf.base.EventHandler.add(this.filterInput,"input",this.onInput,this),sf.base.EventHandler.add(this.filterInput,"keyup",this.KeyUp,this),sf.base.EventHandler.add(this.filterInput,"keydown",this.onKeyDown,this)},t.prototype.selectHandler=function(e,t){var s,i=!0,l=sf.base.closest(e.target,".e-list-item"),a=[l];if(l){if(s=[].slice.call(l.parentElement.children).indexOf(l),this.selectionSettings.showCheckbox?i=!l.getElementsByClassName("e-frame")[0].classList.contains("e-check"):(e.ctrlKey||sf.base.Browser.isDevice)&&this.isSelected(l)?(l.classList.remove(sf.lists.cssClass.selected),l.removeAttribute("aria-selected"),i=!1):"Multiple"===this.selectionSettings.mode&&(e.ctrlKey||sf.base.Browser.isDevice)||(this.getSelectedItems().forEach((function(e){e.removeAttribute("aria-selected")})),sf.base.removeClass(this.getSelectedItems(),sf.lists.cssClass.selected)),e.shiftKey&&!this.selectionSettings.showCheckbox&&"Single"!==this.selectionSettings.mode?a=[].slice.call(l.parentElement.children).slice(Math.min(s,this.prevSelIdx),Math.max(s,this.prevSelIdx)+1).filter((function(e){return e.classList.contains("e-list-item")})):this.prevSelIdx=[].slice.call(l.parentElement.children).indexOf(l),i&&(this.selectionSettings.showCheckbox||sf.base.addClass(a,sf.lists.cssClass.selected),a.forEach((function(e){e.setAttribute("aria-selected","true")})),this.list.setAttribute("aria-activedescendant",l.id)),t||!(this.maximumSelectionLength>(this.value&&this.value.length))&&i||!(this.maximumSelectionLength>=(this.value&&this.value.length))&&i||this.maximumSelectionLength<(this.value&&this.value.length)||this.notify("updatelist",{li:l,e:e,module:"listbox"}),this.allowFiltering&&!t){var n=this.getFormattedValue(l.getAttribute("data-value"));if(i){var o=[];sf.base.extend(o,this.value),o.push(n),this.value=o}else this.value=this.value.filter((function(e){return e!==n}));document.querySelectorAll("ul").length<2&&this.updateMainList()}this.updateSelectedOptions(),this.triggerChange(this.getSelectedItems(),e),this.checkMaxSelection()}},t.prototype.triggerChange=function(e,t){this.trigger("change",{elements:e,items:this.getDataByElements(e),value:this.value,event:t})},t.prototype.getDataByElems=function(e){for(var t=[],s=0,i=e.length;s<i;s++)t.push(this.getDataByValue(this.getFormattedValue(e[s].getAttribute("data-value"))));return t},t.prototype.getDataByElements=function(e){var t,s=[],i=0;if(!sf.base.isNullOrUndefined(this.listData)){var l=this.typeOfData(this.listData).typeof;if("string"===l||"number"===l||"boolean"===l)for(var a=0,n=this.listData;a<n.length;a++){for(var o=n[a],r=i,c=e.length;r<c;r++)if(t=this.getFormattedValue(e[r].getAttribute("data-value")),!sf.base.isNullOrUndefined(o)&&o===t){i=r,s.push(o);break}if(e.length===s.length)break}else for(var h=0,p=this.listData;h<p.length;h++){for(o=p[h],r=i,c=e.length;r<c;r++)if(t=this.getFormattedValue(e[r].getAttribute("data-value")),!sf.base.isNullOrUndefined(o)&&sf.base.getValue(this.fields.value?this.fields.value:"value",o)===t){i=r,s.push(o);break}if(e.length===s.length)break}return s}return null},t.prototype.checkMaxSelection=function(){var e=this.list.querySelectorAll(".e-list-item span.e-check").length;if(this.selectionSettings.showCheckbox){var t=0,s=void 0;for(s=this.list.getElementsByClassName("e-list-item");t<s.length;t++)s[t].querySelector(".e-frame.e-check")||(e===this.maximumSelectionLength?s[t].classList.add("e-disable"):s[t].classList.contains("e-disable")&&s[t].classList.remove("e-disable"))}},t.prototype.toolbarClickHandler=function(e){var t=sf.base.closest(e.target,"button");if(t){if(this.toolbarAction=t.getAttribute("data-value"),t.disabled)return;switch(this.toolbarAction){case"moveUp":this.moveUpDown(!0);break;case"moveDown":this.moveUpDown();break;case"moveTo":this.moveItemTo();break;case"moveFrom":this.moveItemFrom();break;case"moveAllTo":this.moveAllItemTo();break;case"moveAllFrom":this.moveAllItemFrom()}}},t.prototype.moveUpDown=function(e,t,s){var i,l=this,a=this.getSelectedItems();if(s&&(a=s),!(e&&this.isSelected(this.ulElement.firstElementChild)||!e&&this.isSelected(this.ulElement.lastElementChild))||s){var n={cancel:!1,items:i=this.getDataByElems(a),eventName:this.toolbarAction};this.trigger("actionBegin",n),n.cancel||((e?a:a.reverse()).forEach((function(t){var s=Array.prototype.indexOf.call(l.ulElement.querySelectorAll(".e-list-item"),t),i=Array.prototype.indexOf.call(l.ulElement.children,t);sf.lists.moveTo(l.ulElement,l.ulElement,[i],e?i-1:i+2),l.changeData(i,e?i-1:i+1,e?s-1:s+1,t)})),this.trigger("actionComplete",{items:i,eventName:this.toolbarAction}),a[0].focus(),!t&&this.toolbarSettings.items.length&&this.getToolElem().querySelector("[data-value="+(e?"moveUp":"moveDown")+"]").focus(),this.updateToolBarState())}},t.prototype.moveItemTo=function(){this.moveData(this,this.getScopedListBox())},t.prototype.moveItemFrom=function(){this.moveData(this.getScopedListBox(),this)},t.prototype.moveData=function(e,t,s,i,l){var a=this,n=[],o=[],r=[],c=[],h=[].slice.call(e.listData),p=[].slice.call(t.listData),u=[].slice.call(e.sortedData),d=[].slice.call(t.sortedData),f=[].slice.call(e.liCollections),m=[],g=[].slice.call(t.liCollections),b=[],v=[],y=e.getSelectedItems();i&&(y=i);var S="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy;if(e.value=[],y.length){this.removeSelected(e,y),y.forEach((function(t,s){n.push(Array.prototype.indexOf.call(e.ulElement.children,t)),m.push(Array.prototype.indexOf.call(e.ulElement.querySelectorAll(".e-list-item"),t)),o.push(Array.prototype.indexOf.call(e.listData,e.getDataByElems([t])[0])),c.push(Array.prototype.indexOf.call(e.sortedData,e.getDataByElems([t])[0])),r.push(Array.prototype.indexOf.call(e.jsonData,e.getDataByElems([t])[0]))})),"None"!==this.sortOrder?c.forEach((function(t){b.push(e.sortedData[t])})):r.forEach((function(t){b.push(e.jsonData[t])}));var C={cancel:!1,items:b,eventName:this.toolbarAction};if(e.trigger("actionBegin",C),C.cancel)return;if(!sf.base.isBlazor()){var E=[];if(m.sort((function(e,t){return e-t})).reverse().forEach((function(e){E.push(f.splice(e,1)[0])})),e.liCollections=f,l){var x=g.splice(0,l);t.liCollections=x.concat(E.reverse()).concat(g)}else t.liCollections=g.concat(E.reverse());if(0===t.listData.length){var A=t.ulElement.getElementsByClassName("e-list-nrt")[0];A&&t.ulElement.removeChild(A)}}o.sort((function(e,t){return t-e})).forEach((function(e){h.splice(e,1)[0]})),c.sort((function(e,t){return t-e})).forEach((function(e){u.splice(e,1)[0]})),r.slice().reverse().forEach((function(t){v.push(e.jsonData.splice(t,1)[0])})),sf.base.isBlazor()||(S?e.fields.groupBy?e.ulElement.innerHTML=e.renderItems(h,e.fields).innerHTML:y.forEach((function(e){sf.base.detach(e)})):(sf.lists.moveTo(e.ulElement,t.ulElement,n,l),e.trigger("actionComplete",{items:b,eventName:this.toolbarAction})),t.mainList.childElementCount!==t.jsonData.length&&(t.mainList=t.ulElement),e.updateMainList());var B=[].slice.call(t.jsonData);d=[].slice.call(t.sortedData),sf.base.isBlazor()||this.selectNextList(y,m,o,e),s&&this.list.focus(),e.listData=h,e.sortedData=u,l=l||p.length;for(var D=b.length-1;D>=0;D--)p.splice(l,0,b[D]),B.splice(l,0,b[D]),d.splice(l,0,b[D]);t.listData=p,t.jsonData=B,t.sortedData=d,sf.base.isBlazor()?(e.interopAdaptor.invokeMethodAsync("UpdateListData",e.listData).then((function(){e.updateBlazorListData(null,!0),a.selectNextList(y,m,o,e),e.updateSelectedOptions()})),t.interopAdaptor.invokeMethodAsync("UpdateListData",t.listData).then((function(){S&&t.setSelection(),t.updateBlazorListData(null,!0),e.trigger("actionComplete",{items:b,eventName:a.toolbarAction})}))):(S&&(t.ulElement.innerHTML=t.renderItems(p,t.fields).innerHTML,t.setSelection()),e.updateSelectedOptions()),0===e.listData.length&&e.l10nUpdate()}1===e.value.length&&e.getSelectedItems().length&&(e.value[0]=e.getFormattedValue(e.getSelectedItems()[0].getAttribute("data-value")))},t.prototype.selectNextList=function(e,t,s,i){var l,a,n=i.ulElement.querySelectorAll(".e-list-item").length,o=-1;1===e.length&&n&&!i.selectionSettings.showCheckbox&&(a=n<=t[0]?n-1:t[0],l=i.ulElement.querySelectorAll(".e-list-item")[a],(o=i.getValidIndex(l,a,n===s[0]?38:40))>-1&&i.ulElement.querySelectorAll(".e-list-item")[o].classList.add(sf.lists.cssClass.selected))},t.prototype.moveAllItemTo=function(){this.moveAllData(this,this.getScopedListBox())},t.prototype.moveAllItemFrom=function(){this.moveAllData(this.getScopedListBox(),this)},t.prototype.moveAllData=function(e,t,s,i){var l=this,a=[].slice.call(t.listData),n=[].slice.call(t.jsonData),o="None"!==t.sortOrder||t.selectionSettings.showCheckbox!==e.selectionSettings.showCheckbox||t.fields.groupBy;this.removeSelected(e,e.getSelectedItems());var r=[].slice.call(e.jsonData),c={cancel:!1,items:r,eventName:this.toolbarAction};if(e.trigger("actionBegin",c),!c.cancel){if(!sf.base.isBlazor()){var h;if(0===t.listData.length)(h=t.ulElement.getElementsByClassName("e-list-nrt")[0])&&t.ulElement.removeChild(h);if(o)(h=e.ulElement.getElementsByClassName("e-list-nrt")[0])&&e.ulElement.removeChild(h);sf.lists.moveTo(e.ulElement,t.ulElement,Array.apply(null,{length:e.ulElement.childElementCount}).map(Number.call,Number),i),this.trigger("actionComplete",{items:r,eventName:this.toolbarAction})}s&&this.list.focus(),i=i||a.length;for(var p=0;p<e.listData.length;p++)a.splice(i+p,0,e.listData[p]);for(p=0;p<e.jsonData.length;p++)n.splice(i+p,0,e.jsonData[p]);if(!sf.base.isBlazor()){var u=[].slice.call(e.liCollections),d=[].slice.call(t.liCollections);if(e.liCollections=[],i){var f=d.splice(0,i);t.liCollections=f.concat(u).concat(d)}else t.liCollections=d.concat(u)}e.value=[],a=a.filter((function(e){return!0!==e.isHeader})),t.listData=a,t.jsonData=n,e.listData=e.sortedData=e.jsonData=[],sf.base.isBlazor()?(o||(t.sortedData=a),e.interopAdaptor.invokeMethodAsync("UpdateListData",e.listData).then((function(){e.updateBlazorListData(null,!0),e.updateSelectedOptions()})),t.interopAdaptor.invokeMethodAsync("UpdateListData",t.listData).then((function(){t.updateBlazorListData(null,!0),e.updateSelectedOptions(),e.trigger("actionComplete",{items:r,eventName:l.toolbarAction})}))):(o?(t.ulElement.innerHTML=t.renderItems(a,t.fields).innerHTML,this.trigger("actionComplete",{items:r,eventName:this.toolbarAction})):t.sortedData=a,e.updateSelectedOptions()),0===e.listData.length&&e.l10nUpdate()}},t.prototype.changeData=function(e,t,s,i){var l=[].slice.call(this.listData),a=[].slice.call(this.jsonData),n=[].slice.call(this.sortedData),o=Array.prototype.indexOf.call(this.jsonData,this.getDataByElems([i])[0]),r=Array.prototype.indexOf.call(this.sortedData,this.getDataByElems([i])[0]),c=[].slice.call(this.liCollections);l.splice(t,0,l.splice(e,1)[0]),a.splice(s,0,a.splice(o,1)[0]),n.splice(t,0,n.splice(r,1)[0]),c.splice(t,0,c.splice(e,1)[0]),this.listData=l,this.jsonData=a,this.liCollections=c,this.sortedData=n},t.prototype.getSelectedItems=function(){var e=[];return this.selectionSettings.showCheckbox?[].slice.call(this.ulElement.getElementsByClassName("e-check")).forEach((function(t){e.push(sf.base.closest(t,".e-list-item"))})):e=[].slice.call(this.ulElement.getElementsByClassName(sf.lists.cssClass.selected)),e},t.prototype.getScopedListBox=function(){var e,t=this;return this.scope&&[].slice.call(document.querySelectorAll(this.scope)).forEach((function(s){sf.base.getComponent(s,t.getModuleName())&&(e=sf.base.getComponent(s,t.getModuleName()))})),e},t.prototype.getDragArgs=function(e,t){var s=this.getSelectedItems();return s.length?(s.pop(),t&&s.push(e.target)):s=[e.target],sf.base.isBlazor()?{elements:s,items:this.getDataByElems(s),bindEvents:e.bindEvents,dragElement:e.dragElement}:{elements:s,items:this.getDataByElems(s)}},t.prototype.onKeyDown=function(e){this.keyDownHandler(e),event.stopPropagation()},t.prototype.keyDownHandler=function(e){if([32,35,36,37,38,39,40,65].indexOf(e.keyCode)>-1&&!this.allowFiltering)if(e.preventDefault(),32===e.keyCode&&this.ulElement.children.length)this.selectHandler({target:this.ulElement.getElementsByClassName("e-focused")[0],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey});else if(65===e.keyCode&&e.ctrlKey)this.selectAll();else if((38===e.keyCode||40===e.keyCode)&&e.ctrlKey&&e.shiftKey)this.moveUpDown(38===e.keyCode,!0);else if(!this.toolbarSettings.items.length&&!this.tBListBox||39!==e.keyCode&&37!==e.keyCode||!e.ctrlKey)37!==e.keyCode&&39!==e.keyCode&&this.upDownKeyHandler(e);else{var t=this.tBListBox||this.getScopedListBox();39===e.keyCode?e.shiftKey?this.moveAllData(this,t,!0):this.moveData(this,t,!0):e.shiftKey?this.moveAllData(t,this,!0):this.moveData(t,this,!0)}else this.allowFiltering&&(40!==e.keyCode&&38!==e.keyCode||this.upDownKeyHandler(e))},t.prototype.upDownKeyHandler=function(e){var t=this.ulElement,s=40===e.keyCode||36===e.keyCode?0:t.childElementCount-1,i=t.getElementsByClassName("e-focused")[0]||t.getElementsByClassName(sf.lists.cssClass.selected)[0];if(i){if(35!==e.keyCode&&36!==e.keyCode&&(s=Array.prototype.indexOf.call(t.children,i),40===e.keyCode?s++:s--,s<0||s>t.childElementCount-1))return;sf.base.removeClass([i],"e-focused")}var l=t.children[s];if(l){if(-1===(s=this.getValidIndex(l,s,e.keyCode)))return void sf.base.addClass([i],"e-focused");t.children[s].focus(),t.children[s].classList.add("e-focused"),e.ctrlKey||this.selectHandler({target:t.children[s],ctrlKey:e.ctrlKey,shiftKey:e.shiftKey},!0)}},t.prototype.KeyUp=function(e){var t=this,s=String.fromCharCode(e.keyCode).match(/\w/);if(sf.base.isNullOrUndefined(s)||(this.isValidKey=!0),this.isValidKey=8===e.keyCode||this.isValidKey,this.isValidKey){this.isValidKey=!1,e.keyCode;this.targetElement(),e.keyCode;if(this.allowFiltering){var i={preventDefaultAction:!1,text:this.targetElement(),updateData:function(e,s,l){i.cancel||(t.isFiltered=!0,t.remoteFilterAction=!0,t.dataUpdater(e,s,l))},event:e,cancel:!1};this.trigger("filtering",i,(function(e){t.isDataFetched=!1,i.cancel||""!==t.filterInput.value&&t.isFiltered||(i.cancel||t.isCustomFiltering||i.preventDefaultAction||(t.inputString=t.filterInput.value,t.filteringAction(t.jsonData,new sf.data.Query,t.fields)),t.isFiltered||t.isCustomFiltering||i.preventDefaultAction||t.dataUpdater(t.jsonData,new sf.data.Query,t.fields))}))}}},t.prototype.filter=function(e,t,s){this.isCustomFiltering=!0,this.filteringAction(e,t,s)},t.prototype.filteringAction=function(e,t,s){this.resetList(e,s,t)},t.prototype.targetElement=function(){return this.targetInputElement=this.list.getElementsByClassName("e-input-filter")[0],this.targetInputElement.value},t.prototype.dataUpdater=function(e,t,s){this.isDataFetched=!1;if(""===this.targetElement().trim()){var i=this.mainList.cloneNode?this.mainList.cloneNode(!0):this.mainList;this.remoteCustomValue=!1,this.onActionComplete(i,this.jsonData),this.notify("reOrder",{module:"CheckBoxSelection",enable:this.selectionSettings.showCheckbox,e:this})}else this.resetList(e,s,t)},t.prototype.focusOutHandler=function(){var e=this.list.getElementsByClassName("e-focused")[0];e&&e.classList.remove("e-focused"),this.allowFiltering&&this.refreshClearIcon()},t.prototype.getValidIndex=function(e,t,s){var i=this.ulElement;return(e.classList.contains("e-disabled")||e.classList.contains(sf.lists.cssClass.group))&&(40===s||36===s?t++:t--),t<0||t===i.childElementCount?-1:(((e=i.querySelectorAll(".e-list-item")[t]).classList.contains("e-disabled")||e.classList.contains(sf.lists.cssClass.group))&&(t=this.getValidIndex(e,t,s)),t)},t.prototype.updateSelectedOptions=function(){var e=this,t=[],s=[];if(sf.base.extend(s,this.value),this.getSelectedItems().forEach((function(s){s.classList.contains("e-grabbed")||t.push(e.getFormattedValue(s.getAttribute("data-value")))})),this.mainList.childElementCount===this.ulElement.childElementCount)if(this.allowFiltering&&this.selectionSettings.showCheckbox){for(var i=0;i<t.length;i++)s.indexOf(t[i])>-1||s.push(t[i]);this.setProperties({value:s},!0)}else this.setProperties({value:t},!0);this.updateSelectTag(),this.updateToolBarState(),this.tBListBox&&this.tBListBox.updateToolBarState()},t.prototype.clearSelection=function(e){var t,s=this;(void 0===e&&(e=this.value),this.selectionSettings.showCheckbox)&&this.getSelectedItems().forEach((function(i){t=s.getFormattedValue(i.getAttribute("data-value")),e.indexOf(t)<0&&(i.getElementsByClassName("e-check")[0].classList.remove("e-check"),i.getElementsByClassName("e-checkbox-wrapper")[0].removeAttribute("aria-checked"),i.removeAttribute("aria-selected"))}))},t.prototype.setSelection=function(e,t,i){var l,a,n=this;void 0===e&&(e=this.value),void 0===t&&(t=!0),void 0===i&&(i=!1),e&&e.forEach((function(e){var o;if(i)if(sf.base.isBlazor()&&"object"===s(e)){if(o=e[n.fields.text||"text"],sf.base.isNullOrUndefined(o))return;o=n.getValueByText(o)}else o=n.getValueByText(e);else o=e;(l=n.list.querySelector('[data-value="'+o+'"]'))&&(a=n.selectionSettings.showCheckbox?l.getElementsByClassName("e-frame")[0].classList.contains("e-check"):l.classList.contains("e-selected"),(!t&&a||t&&!a&&l)&&(n.selectionSettings.showCheckbox?n.notify("updatelist",{li:l,module:"listbox"}):t?(l.classList.add(sf.lists.cssClass.selected),l.setAttribute("aria-selected","true")):(l.classList.remove(sf.lists.cssClass.selected),l.removeAttribute("aria-selected"))))})),this.updateSelectTag()},t.prototype.updateSelectTag=function(){var e=this.getSelectTag(),t="";if(e.innerHTML="",this.value){for(var s=0,i=this.value.length;s<i;s++)t+='<option selected value="'+this.value[s]+'"></option>';e.innerHTML+=t}this.checkSelectAll()},t.prototype.checkDisabledState=function(e){return 0===(sf.base.isBlazor()?e.ulElement.querySelectorAll("."+sf.lists.cssClass.li).length:e.ulElement.childElementCount)},t.prototype.updateToolBarState=function(){var e=this;if(this.toolbarSettings.items.length){var t=this.getScopedListBox(),s=this.list.parentElement.getElementsByClassName("e-listbox-tool")[0];this.toolbarSettings.items.forEach((function(i){var l=s.querySelector('[data-value="'+i+'"]');switch(i){case"moveAllTo":l.disabled=e.checkDisabledState(e);break;case"moveAllFrom":l.disabled=e.checkDisabledState(t);break;case"moveFrom":l.disabled=!t.value||!t.value.length;break;case"moveUp":l.disabled=!(e.value&&e.value.length&&!e.isSelected(e.ulElement.children[0]));break;case"moveDown":l.disabled=!(e.value&&e.value.length&&!e.isSelected(e.ulElement.children[e.ulElement.childElementCount-1]));break;default:l.disabled=!e.value||!e.value.length}}))}},t.prototype.setCheckboxPosition=function(){var e=this.list;this.initLoad||"Left"!==this.selectionSettings.checkboxPosition||e.classList.remove("e-right"),"Right"===this.selectionSettings.checkboxPosition&&e.classList.add("e-right")},t.prototype.showCheckbox=function(e){var t=0,s=this.list.lastElementChild.querySelectorAll("li"),i=this.list.lastElementChild.getElementsByClassName("e-list-item").length;if(e){if(sf.base.isBlazor()||(this.ulElement=this.renderItems(this.listData,this.fields),this.mainList=this.ulElement,this.list.removeChild(this.list.getElementsByTagName("ul")[0]),this.list.appendChild(this.ulElement)),this.selectionSettings.showSelectAll&&!this.list.getElementsByClassName("e-selectall-parent")[0]){var l=new sf.base.L10n(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.showSelectAll=!0,this.selectAllText=l.getConstant("selectAllText"),this.unSelectAllText=l.getConstant("unSelectAllText"),this.popupWrapper=this.list,this.checkBoxSelectionModule.checkAllParent=null,this.notify("selectAll",{}),this.checkSelectAll()}}else if(this.list.getElementsByClassName("e-selectall-parent")[0]&&this.list.removeChild(this.list.getElementsByClassName("e-selectall-parent")[0]),!sf.base.isBlazor()){for(;t<i;t++)s[t].classList.contains("e-list-item")&&s[t].removeChild(s[t].getElementsByClassName("e-checkbox-wrapper")[0]),s[t].hasAttribute("aria-selected")&&s[t].removeAttribute("aria-selected");this.mainList=this.ulElement}this.value=[]},t.prototype.isSelected=function(e){return!sf.base.isNullOrUndefined(e)&&(e.classList.contains(sf.lists.cssClass.selected)||null!==e.querySelector(".e-check"))},t.prototype.getSelectTag=function(){return this.list.getElementsByClassName("e-hidden-select")[0]},t.prototype.getToolElem=function(){return this.list.parentElement.getElementsByClassName("e-listbox-tool")[0]},t.prototype.formResetHandler=function(){this.value=this.initialSelectedOptions},t.prototype.getModuleName=function(){return"listbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"listbox"},t.prototype.destroy=function(){this.itemTemplate&&sf.base.resetBlazorTemplate(this.element.id+"ItemTemplate","ItemTemplate"),this.unwireEvents(),"EJS-LISTBOX"===this.element.tagName?this.element.innerHTML="":(!sf.base.isBlazor()||sf.base.isBlazor()&&!this.isServerRendered)&&(this.element.style.display="inline-block",this.toolbarSettings.items.length&&(this.list.parentElement.parentElement.insertBefore(this.list,this.list.parentElement),sf.base.detach(this.list.nextElementSibling)),this.list.parentElement.insertBefore(this.element,this.list)),(!sf.base.isBlazor()||sf.base.isBlazor()&&!this.isServerRendered)&&e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(t,s){var i=this.toolbarSettings.items.length?this.list.parentElement:this.list;e.prototype.onPropertyChanged.call(this,t,s),this.setUpdateInitial(["fields","query","dataSource"],t);for(var l=0,a=Object.keys(t);l<a.length;l++){switch(a[l]){case"cssClass":s.cssClass&&sf.base.removeClass([i],s.cssClass.split(" ")),t.cssClass&&sf.base.addClass([i],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?i.classList.add("e-rtl"):i.classList.remove("e-rtl");break;case"value":sf.base.removeClass(this.list.querySelectorAll("."+sf.lists.cssClass.selected),sf.lists.cssClass.selected),this.clearSelection(this.value),this.setSelection();break;case"height":this.setHeight();break;case"enabled":this.setEnable();break;case"allowDragAndDrop":t.allowDragAndDrop?this.initDraggable():sf.base.getComponent(this.ulElement,"sortable").destroy();break;case"allowFiltering":this.allowFiltering?this.setFiltering():(this.list.removeChild(this.list.getElementsByClassName("e-filter-parent")[0]),this.filterParent=null,sf.base.removeClass([this.list],"e-filter-list"));break;case"filterBarPlaceholder":this.allowFiltering&&this.filterInput&&sf.inputs.Input.setPlaceholder(t.filterBarPlaceholder,this.filterInput);break;case"scope":this.allowDragAndDrop&&(sf.base.getComponent(this.ulElement,"sortable").scope=t.scope),this.toolbarSettings.items.length&&(s.scope&&(sf.base.getComponent(document.querySelector(s.scope),this.getModuleName()).tBListBox=null),t.scope&&(sf.base.getComponent(document.querySelector(t.scope),this.getModuleName()).tBListBox=this));break;case"toolbarSettings":var n=void 0,o=t.toolbarSettings.position,r=this.getToolElem();o&&(sf.base.removeClass([i],["e-right","e-left"]),i.classList.add("e-"+o.toLowerCase()),"Left"===o?i.insertBefore(r,this.list):i.appendChild(r)),t.toolbarSettings.items&&(s.toolbarSettings.items.length&&((n=this.list.parentElement).parentElement.insertBefore(this.list,n),sf.base.detach(n)),this.initToolbarAndStyles(),this.wireToolbarEvent());break;case"selectionSettings":var c=t.selectionSettings.showSelectAll,h=t.selectionSettings.showCheckbox;if(!sf.base.isNullOrUndefined(c)){if(this.showSelectAll=c,this.showSelectAll){var p=new sf.base.L10n(this.getModuleName(),{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.locale);this.checkBoxSelectionModule.checkAllParent=null,this.showSelectAll=!0,this.selectAllText=p.getConstant("selectAllText"),this.unSelectAllText=p.getConstant("selectAllText"),this.popupWrapper=this.list}this.notify("selectAll",{}),this.checkSelectAll()}sf.base.isNullOrUndefined(h)||this.showCheckbox(h),this.selectionSettings.showCheckbox&&this.setCheckboxPosition();break;case"dataSource":this.jsonData=[].slice.call(this.dataSource)}}},l([sf.base.Property("")],t.prototype,"cssClass",void 0),l([sf.base.Property([])],t.prototype,"value",void 0),l([sf.base.Property("")],t.prototype,"height",void 0),l([sf.base.Property(!1)],t.prototype,"allowDragAndDrop",void 0),l([sf.base.Property(1e3)],t.prototype,"maximumSelectionLength",void 0),l([sf.base.Property(!1)],t.prototype,"allowFiltering",void 0),l([sf.base.Property("")],t.prototype,"scope",void 0),l([sf.base.Property(!0)],t.prototype,"ignoreCase",void 0),l([sf.base.Property(null)],t.prototype,"filterBarPlaceholder",void 0),l([sf.base.Event()],t.prototype,"beforeItemRender",void 0),l([sf.base.Event()],t.prototype,"filtering",void 0),l([sf.base.Event()],t.prototype,"select",void 0),l([sf.base.Event()],t.prototype,"change",void 0),l([sf.base.Event()],t.prototype,"beforeDrop",void 0),l([sf.base.Event()],t.prototype,"dragStart",void 0),l([sf.base.Event()],t.prototype,"drag",void 0),l([sf.base.Event()],t.prototype,"drop",void 0),l([sf.base.Event()],t.prototype,"dataBound",void 0),l([sf.base.Property(null)],t.prototype,"groupTemplate",void 0),l([sf.base.Property("No records found")],t.prototype,"noRecordsTemplate",void 0),l([sf.base.Property("Request failed")],t.prototype,"actionFailureTemplate",void 0),l([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),l([sf.base.Property(!1)],t.prototype,"ignoreAccent",void 0),l([sf.base.Complex({},n)],t.prototype,"toolbarSettings",void 0),l([sf.base.Complex({},a)],t.prototype,"selectionSettings",void 0),t=o=l([sf.base.NotifyPropertyChanges],t)}(sf.dropdowns.DropDownBase),r={backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",clearIcon:"e-clear-icon"},c="e-check",h=function(){function e(e){this.activeLi=[],this.activeEle=[],this.parent=e,this.removeEventListener(),this.addEventListener()}return e.prototype.getModuleName=function(){return"CheckBoxSelection"},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on("updatelist",this.listSelection,this),this.parent.on("listoption",this.listOption,this),this.parent.on("selectAll",this.setSelectAll,this),this.parent.on("checkSelectAll",this.checkSelectAll,this),this.parent.on("searchBox",this.setSearchBox,this),this.parent.on("blur",this.onBlur,this),this.parent.on("targetElement",this.targetElement,this),this.parent.on("deviceSearchBox",this.setDeviceSearchBox,this),this.parent.on("inputFocus",this.getFocus,this),this.parent.on("reOrder",this.setReorder,this),this.parent.on("activeList",this.getActiveList,this),this.parent.on("selectAllText",this.setLocale,this),this.parent.on("filterBarPlaceholder",this.setPlaceholder,this),sf.base.EventHandler.add(document,"mousedown",this.onDocumentClick,this),this.parent.on("addItem",this.checboxCreate,this),this.parent.on("popupFullScreen",this.setPopupFullScreen,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off("updatelist",this.listSelection),this.parent.off("listoption",this.listOption),this.parent.off("selectAll",this.setSelectAll),this.parent.off("checkSelectAll",this.checkSelectAll),this.parent.off("searchBox",this.setSearchBox),this.parent.off("blur",this.onBlur),this.parent.off("targetElement",this.targetElement),this.parent.off("deviceSearchBox",this.setDeviceSearchBox),this.parent.off("inputFocus",this.getFocus),this.parent.off("reOrder",this.setReorder),this.parent.off("activeList",this.getActiveList),this.parent.off("selectAllText",this.setLocale),this.parent.off("filterBarPlaceholder",this.setPlaceholder),this.parent.off("addItem",this.checboxCreate),sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick),this.parent.off("popupFullScreen",this.setPopupFullScreen))},e.prototype.listOption=function(e){var t=this;if(sf.base.isNullOrUndefined(this.parent.listCurrentOptions.itemCreated))this.parent.listCurrentOptions.itemCreated=function(e){t.checboxCreate(e)};else{var s=this.parent.listCurrentOptions.itemCreated;this.parent.listCurrentOptions.itemCreated=function(e){t.checboxCreate(e),s.apply(t,[e])}}},e.prototype.setPlaceholder=function(e){sf.inputs.Input.setPlaceholder(e.filterBarPlaceholder,this.filterInput)},e.prototype.checboxCreate=function(e){var t;if(t=sf.base.isNullOrUndefined(e.item)?e:e.item,this.parent.enableGroupCheckBox||"e-list-group-item "!==t.className&&"e-list-group-item"!==t.className){var s=sf.buttons.createCheckBox(this.parent.createElement,!0),i=sf.base.select("div.e-icons",t);t.getAttribute("data-uid");t.insertBefore(s,t.childNodes[sf.base.isNullOrUndefined(i)?0:1]),sf.base.select(".e-frame",s);sf.base.select(".e-frame",s);return this.parent.enableGroupCheckBox&&this.parent.popupWrapper.classList.add("e-multiselect-group"),t}return t},e.prototype.setSelectAll=function(){this.parent.showSelectAll?(sf.base.isNullOrUndefined(this.checkAllParent)&&(this.checkAllParent=this.parent.createElement("div",{className:"e-selectall-parent"}),this.selectAllSpan=this.parent.createElement("span",{className:"e-all-text"}),this.selectAllSpan.textContent="",this.checkAllParent.appendChild(this.selectAllSpan),this.setLocale(),this.checboxCreate(this.checkAllParent),this.parent.headerTemplate&&(sf.base.isNullOrUndefined(this.parent.filterParent)?sf.base.append([this.checkAllParent],this.parent.popupWrapper):sf.base.append([this.checkAllParent],this.parent.filterParent)),this.parent.headerTemplate||(sf.base.isNullOrUndefined(this.parent.filterParent)?sf.base.prepend([this.checkAllParent],this.parent.popupWrapper):this.parent.filterParent.parentNode.insertBefore(this.checkAllParent,this.parent.filterParent.nextSibling)),sf.base.EventHandler.add(this.checkAllParent,"mousedown",this.clickHandler,this)),this.parent.list.classList.contains("e-nodata")||this.parent.listData&&this.parent.listData.length<=1?this.checkAllParent.style.display="none":this.checkAllParent.style.display="block",this.parent.selectAllHeight=this.checkAllParent.getBoundingClientRect().height):sf.base.isNullOrUndefined(this.checkAllParent)||(this.checkAllParent.parentElement.removeChild(this.checkAllParent),this.checkAllParent=null)},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.listSelection=function(e){var t,s=sf.base.isBlazor()&&e.module&&"listbox"===e.module;if(sf.base.isNullOrUndefined(e.e)){var i=e.li.querySelector(".e-checkbox-wrapper");t=i?s?i.querySelector(".e-frame"):i.childNodes[1]:e.li.lastElementChild.childNodes[1]}else{var l=e.li.querySelector(".e-checkbox-wrapper .e-frame");t=sf.base.isNullOrUndefined(e.e.target)?s?l:e.li.querySelector(".e-checkbox-wrapper").childNodes[1]:e.e.target.classList.contains("e-frame")&&(!this.parent.showSelectAll||this.checkAllParent&&!this.checkAllParent.contains(e.e.target))?e.e.target:s?l:e.li.querySelector(".e-checkbox-wrapper").childNodes[1]}if((this.parent.itemTemplate||this.parent.enableGroupCheckBox)&&(t=e.li.firstElementChild.childNodes[1]),sf.base.isNullOrUndefined(t)||(this.checkWrapper=sf.base.closest(t,".e-checkbox-wrapper")),!sf.base.isNullOrUndefined(this.checkWrapper)){var a=sf.base.select(".e-frame",this.checkWrapper);this.validateCheckNode(this.checkWrapper,a.classList.contains(c),e.li,e.e,!1)}},e.prototype.validateCheckNode=function(e,t,s,i,l){this.changeState(e,t?"uncheck":"check",i,!0,l)},e.prototype.clickHandler=function(e){var t;t=e.currentTarget.classList.contains(this.checkAllParent.className)?e.currentTarget.firstElementChild.lastElementChild:e.currentTarget,this.checkWrapper=sf.base.closest(t,".e-checkbox-wrapper");if(!sf.base.isNullOrUndefined(this.checkWrapper)){var s=sf.base.select(".e-frame",this.checkWrapper);this.validateCheckNode(this.checkWrapper,s.classList.contains(c),null,e,!0)}e.preventDefault()},e.prototype.changeState=function(e,t,s,i,l){var a,n=e.getElementsByClassName("e-frame")[0];"check"!==t||n.classList.contains(c)?"uncheck"===t&&(n.classList.contains(c)||n.classList.contains("e-stop"))?(sf.base.removeClass([n],[c,"e-stop"]),a="false",l&&(this.parent.selectAllItems(!1,s),this.setLocale())):"indeterminate"!==t||n.classList.contains("e-stop")||(sf.base.removeClass([n],[c]),n.classList.add("e-stop"),a="false",l&&(this.parent.selectAllItems(!1,s),this.setLocale())):(n.classList.remove("e-stop"),n.classList.add(c),a="true",l&&(this.parent.selectAllItems(!0,s),this.setLocale(!0))),a="check"===t?"true":"uncheck"===t?"false":a,sf.base.isNullOrUndefined(a)||e.setAttribute("aria-checked",a)},e.prototype.setSearchBox=function(e){if(sf.base.isNullOrUndefined(this.parent.filterParent)){this.parent.filterParent=this.parent.createElement("span",{className:"e-filter-parent"}),this.filterInput=this.parent.createElement("input",{attrs:{type:"text"},className:"e-input-filter"}),this.parent.element.parentNode.insertBefore(this.filterInput,this.parent.element);var t=!1;return sf.base.Browser.isDevice&&(t=!0,this.parent.mobFilter=!1),this.filterInputObj=sf.inputs.Input.createInput({element:this.filterInput,buttons:t?["e-input-group-icon e-back-icon e-icons","e-input-group-icon e-clear-icon e-icons"]:["e-input-group-icon e-clear-icon e-icons"],properties:{placeholder:this.parent.filterBarPlaceholder}},this.parent.createElement),sf.base.isNullOrUndefined(this.parent.cssClass)||(-1!==this.parent.cssClass.split(" ").indexOf("e-outline")?sf.base.addClass([this.filterInputObj.container],"e-outline"):-1!==this.parent.cssClass.split(" ").indexOf("e-filled")&&sf.base.addClass([this.filterInputObj.container],"e-filled")),sf.base.append([this.filterInputObj.container],this.parent.filterParent),sf.base.prepend([this.parent.filterParent],e.popupElement),sf.base.attributes(this.filterInput,{"aria-disabled":"false","aria-owns":this.parent.element.id+"_options",role:"listbox","aria-activedescendant":null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector(".e-clear-icon"),!sf.base.Browser.isDevice&&this.clearIconElement&&(sf.base.EventHandler.add(this.clearIconElement,"mousedown",this.clearText,this),this.clearIconElement.style.visibility="hidden"),sf.base.EventHandler.add(this.filterInput,"input",this.parent.onInput,this.parent),sf.base.EventHandler.add(this.filterInput,"keyup",this.parent.KeyUp,this.parent),sf.base.EventHandler.add(this.filterInput,"keydown",this.parent.onKeyDown,this.parent),sf.base.EventHandler.add(this.filterInput,"blur",this.onBlur,this),sf.base.EventHandler.add(this.filterInput,"paste",this.parent.pasteHandler,this.parent),this.parent.searchBoxHeight=this.filterInputObj.container.parentElement.getBoundingClientRect().height,this.filterInputObj}},e.prototype.clickOnBackIcon=function(e){this.parent.hidePopup(),sf.base.removeClass([document.body,this.parent.popupObj.element],"e-popup-full-page"),this.parent.inputElement.focus()},e.prototype.clearText=function(e){this.parent.targetInputElement.value="",this.parent.refreshPopup(),this.parent.refreshListItems(null),this.clearIconElement.style.visibility="hidden",this.filterInput.focus(),this.setReorder(e),e.preventDefault()},e.prototype.setDeviceSearchBox=function(){this.parent.popupObj.element.classList.add("e-ddl-device"),this.parent.popupObj.element.classList.add("e-ddl-device-filter"),this.parent.popupObj.position={X:0,Y:0},this.parent.popupObj.dataBind(),this.setSearchBoxPosition(),this.backIconElement=this.filterInputObj.container.querySelector(".e-back-icon"),this.clearIconElement=this.filterInputObj.container.querySelector(".e-clear-icon"),this.clearIconElement.style.visibility="hidden",sf.base.EventHandler.add(this.backIconElement,"click",this.clickOnBackIcon,this),sf.base.EventHandler.add(this.clearIconElement,"click",this.clearText,this)},e.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height,t=0;this.checkAllParent&&(t=this.checkAllParent.getBoundingClientRect().height),this.parent.popupObj.element.style.maxHeight="100%",this.parent.popupObj.element.style.width="100%",this.parent.list.style.maxHeight=window.innerHeight-e-t+"px",this.parent.list.style.height=window.innerHeight-e-t+"px";var s=this.filterInput.parentElement.querySelector(".e-clear-icon");sf.base.detach(this.filterInput),s.parentElement.insertBefore(this.filterInput,s)},e.prototype.setPopupFullScreen=function(){sf.base.attributes(this.parent.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),sf.base.addClass([document.body,this.parent.popupObj.element],"e-popup-full-page"),this.parent.popupObj.element.style.maxHeight="100%",this.parent.popupObj.element.style.width="100%"},e.prototype.targetElement=function(){return sf.base.isNullOrUndefined(this.clearIconElement)||(this.parent.targetInputElement=this.filterInput,this.clearIconElement.style.visibility=""===this.parent.targetInputElement.value?"hidden":"visible"),this.parent.targetInputElement.value},e.prototype.onBlur=function(e){if(!this.parent.element.classList.contains("e-listbox")){var t=void 0;if(this.parent.keyAction)return;if(sf.base.Browser.isIE&&(t=!sf.base.isNullOrUndefined(e)&&e.target),sf.base.Browser.isIE||(t=!sf.base.isNullOrUndefined(e)&&e.relatedTarget),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&this.parent.popupObj.element.contains(t)&&!sf.base.Browser.isIE&&this.filterInput)return void this.filterInput.focus();if(this.parent.scrollFocusStatus&&this.filterInput)return e.preventDefault(),this.filterInput.focus(),void(this.parent.scrollFocusStatus=!1);this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&(this.parent.inputFocus=!1,this.parent.updateValueState(e,this.parent.value,this.parent.tempValues),this.parent.dispatchEvent(this.parent.hiddenElement,"change")),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&(this.parent.inputFocus=!1,this.parent.overAllWrapper.classList.remove("e-input-focus"),this.parent.trigger("blur"),this.parent.focused=!0),this.parent.popupObj&&document.body.contains(this.parent.popupObj.element)&&!this.parent.popupObj.element.classList.contains("e-popup-close")&&!sf.base.Browser.isDevice&&this.parent.hidePopup()}},e.prototype.onDocumentClick=function(e){if("listbox"!==this.parent.getLocaleName()){var t=e.target;!sf.base.isNullOrUndefined(this.parent.popupObj)&&sf.base.closest(t,"#"+this.parent.popupObj.element.id)&&(this.filterInput&&""!==this.filterInput.value||e.preventDefault()),!sf.base.isNullOrUndefined(this.parent.popupObj)&&sf.base.closest(t,"#"+this.parent.popupObj.element.id)||this.parent.overAllWrapper.contains(e.target)?this.parent.scrollFocusStatus=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&document.activeElement===this.filterInput:(this.parent.overAllWrapper.classList.contains(sf.dropdowns.dropDownBaseClasses.focus)||this.parent.isPopupOpen())&&(this.parent.inputFocus=!1,this.parent.scrollFocusStatus=!1,this.parent.hidePopup(),this.parent.onBlur(e,!0),this.parent.focused=!0),this.parent.overAllWrapper.contains(e.target)||!this.parent.overAllWrapper.classList.contains("e-input-focus")||this.parent.isPopupOpen()||(sf.base.Browser.isIE?this.parent.onBlur():this.parent.onBlur(e)),this.filterInput===t&&this.filterInput.focus()}},e.prototype.getFocus=function(e){this.parent.overAllWrapper.classList.remove("e-input-focus"),this.parent.keyAction&&"clear"!==e.value?this.parent.keyAction=!1:("focus"===e.value&&(this.filterInput.focus(),this.parent.removeFocus(),sf.base.EventHandler.remove(this.parent.list,"keydown",this.parent.onKeyDown)),"clear"===e.value&&(this.filterInput.value="",this.clearIconElement.style.visibility="hidden"))},e.prototype.checkSelectAll=function(e){"check"===e.value&&"true"!==this.checkAllParent.getAttribute("aria-checked")&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale(!0)),"uncheck"===e.value&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale()),"indeterminate"===e.value&&(this.changeState(this.checkAllParent,e.value,null,null,!1),this.setLocale())},e.prototype.setLocale=function(e){if("Select All"!==this.parent.selectAllText||"Unselect All"!==this.parent.unSelectAllText){var t=e?this.parent.unSelectAllText:this.parent.selectAllText;this.selectAllSpan.textContent="";for(var s=e?"unSelectAllText":"selectAllText",i=0,l=sf.base.compile(t)({},this.parent,s,null,!this.parent.isStringTemplate);i<l.length;i++){var a=l[i];this.selectAllSpan.textContent=a.textContent}}else{var n=new sf.base.L10n(this.parent.getLocaleName(),{},this.parent.locale);""===n.getConstant("selectAllText")&&(n=new sf.base.L10n("dropdowns",{selectAllText:"Select All",unSelectAllText:"Unselect All"},this.parent.locale)),this.selectAllSpan.textContent=e?n.getConstant("unSelectAllText"):n.getConstant("selectAllText")}},e.prototype.getActiveList=function(e){e.li.classList.contains("e-active")?this.activeLi.push(e.li.cloneNode(!0)):this.activeLi.splice(e.index,1)},e.prototype.setReorder=function(e){if(this.parent.enableSelectionOrder&&!sf.base.isNullOrUndefined(this.parent.value)){var t=this.parent.ulElement.querySelectorAll("li.e-active").length,s=void 0,i=this.parent.createElement("ul",{className:"e-list-parent e-ul e-reorder"});this.parent.createElement("div");t>0&&(sf.base.append(this.parent.ulElement.querySelectorAll("li.e-active"),i),s=this.parent.ulElement.querySelectorAll("li.e-active"),sf.base.addClass(s,"e-reorder-hide"),sf.base.prepend([i],this.parent.list)),this.parent.focusAtFirstListItem()}},e}();return o.Inject(h),e.SelectionSettings=a,e.ToolbarSettings=n,e.ListBox=o,e.CheckBoxSelection=h,e}({}))}))}});