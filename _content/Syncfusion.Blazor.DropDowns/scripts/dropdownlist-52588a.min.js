!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./bundles/dropdownlist.js")}({"./bundles/dropdownlist.js":function(e,t,i){"use strict";i.r(t);i("./modules/dropdownlist.js");i.p="_content/Syncfusion.Blazor.DropDowns/scripts/"},"./modules/dropdownlist.js":function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sf.dropdowns=sf.base.extend({},sf.dropdowns,function(e){"use strict";var t,s=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,i)},function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),n=function(e,t,s,n){var o,l=arguments.length,a=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(a=(l<3?o(a):l>3?o(t,s,a):o(t,s))||a);return l>3&&a&&Object.defineProperty(t,s,a),a},o={root:"e-dropdownlist",hover:sf.dropdowns.dropDownBaseClasses.hover,selected:sf.dropdowns.dropDownBaseClasses.selected,rtl:sf.dropdowns.dropDownBaseClasses.rtl,li:sf.dropdowns.dropDownBaseClasses.li,disable:sf.dropdowns.dropDownBaseClasses.disabled,base:sf.dropdowns.dropDownBaseClasses.root,focus:sf.dropdowns.dropDownBaseClasses.focus,input:"e-input-group",inputFocus:"e-input-focus",icon:"e-input-group-icon e-ddl-icon",iconAnimation:"e-icon-anim",value:"e-input-value",device:"e-ddl-device",backIcon:"e-input-group-icon e-back-icon e-icons",filterBarClearIcon:"e-input-group-icon e-clear-icon e-icons",filterInput:"e-input-filter",filterParent:"e-filter-parent",mobileFilter:"e-ddl-device-filter",footer:"e-ddl-footer",header:"e-ddl-header",clearIcon:"e-clear-icon",clearIconHide:"e-clear-icon-hide",popupFullScreen:"e-popup-full-page",disableIcon:"e-ddl-disable-icon",hiddenElement:"e-ddl-hidden"},l={container:null,buttons:[]},a=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.previousValue=null,s.isListSearched=!1,s.preventChange=!1,s.isAngular=!1,s}return s(t,e),t.prototype.preRender=function(){var t=sf.base.isBlazor()&&this.isServerRendered;this.isServerBlazor=!!t,this.isServerBlazor?this.initializeData():(this.element.style.opacity="0",this.initializeData(),e.prototype.preRender.call(this)),this.activeIndex=this.index,this.queryString=""},t.prototype.initializeData=function(){this.isPopupOpen=!1,this.isDocumentClick=!1,this.isInteracted=!1,this.isFilterFocus=!1,this.beforePopupOpen=!1,this.initial=!0,this.initRemoteRender=!1,this.isNotSearchList=!1,this.isTyped=!1,this.isSelected=!1,this.preventFocus=!1,this.preventAutoFill=!1,this.isValidKey=!1,this.typedString="",this.isEscapeKey=!1,this.isPreventBlur=!1,this.isTabKey=!1,this.actionCompleteData={isUpdated:!1},this.prevSelectPoints={},this.isSelectCustom=!1,this.isDropDownClick=!1,this.preventAltUp=!1,this.isCustomFilter=!1,this.isSecondClick=!1,this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"}},t.prototype.setZIndex=function(){this.popupObj&&this.popupObj.setProperties({zIndex:this.zIndex})},t.prototype.renderList=function(t){this.isServerBlazor?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):(e.prototype.render.call(this,t),this.wireListEvents())},t.prototype.floatLabelChange=function(){if("dropdownlist"===this.getModuleName()&&"Auto"===this.floatLabelType){var e=this.inputWrapper.container.querySelector(".e-float-text");""!==this.inputElement.value||this.isInteracted?sf.base.classList(e,["e-label-top"],["e-label-bottom"]):sf.base.classList(e,["e-label-bottom"],["e-label-top"])}},t.prototype.resetHandler=function(e){e.preventDefault(),this.clearAll(e)},t.prototype.resetFocusElement=function(){if(this.removeHover(),this.removeSelection(),this.removeFocus(),this.list.scrollTop=0,"autocomplete"!==this.getModuleName()&&!sf.base.isNullOrUndefined(this.ulElement)){var e=this.ulElement.querySelector("."+o.li);e&&e.classList.add(o.focus)}},t.prototype.clearAll=function(e,t){!sf.base.isNullOrUndefined(t)&&(sf.base.isNullOrUndefined(t)||!sf.base.isNullOrUndefined(t.dataSource)&&(t.dataSource instanceof sf.data.DataManager||0!==t.dataSource.length))||(this.isActive=!0,this.resetSelection(t));var i=this.getItemData();this.previousValue!==i.value&&this.onChangeEvent(e)},t.prototype.resetSelection=function(e){if(this.list)if(sf.base.isNullOrUndefined(e)||!sf.base.isNullOrUndefined(e.dataSource)&&(e.dataSource instanceof sf.data.DataManager||0!==e.dataSource.length)){if(this.allowFiltering&&"autocomplete"!==this.getModuleName()&&!sf.base.isNullOrUndefined(this.actionCompleteData.ulElement)&&!sf.base.isNullOrUndefined(this.actionCompleteData.list)){var t=this.actionCompleteData.ulElement.querySelector("li"),i=this.ulElement&&this.ulElement.querySelector("li");"EJS-COMBOBOX"===this.element.tagName&&t&&i&&t.childElementCount>0&&i.childElementCount>0&&t.textContent!==i.textContent&&this.itemTemplate&&this.cloneElements(),this.onActionComplete(this.actionCompleteData.ulElement.cloneNode(!0),this.actionCompleteData.list)}this.resetFocusElement()}else this.selectedLI=null,this.actionCompleteData.isUpdated=!1,this.actionCompleteData.ulElement=null,this.actionCompleteData.list=null,this.resetList(e.dataSource);this.isServerBlazor||(this.hiddenElement.innerHTML=""),this.inputElement.value="",this.value=null,this.itemData=null,this.text=null,this.index=null,this.activeIndex=null,this.item=null,this.queryString="",this.valueTempElement&&(sf.base.detach(this.valueTempElement),this.inputElement.style.display="block",this.valueTempElement=null),this.setSelection(null,null),this.isSelectCustom=!1,this.updateIconState(),this.cloneElements()},t.prototype.setHTMLAttributes=function(){if(Object.keys(this.htmlAttributes).length)for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if("class"===i){var s=this.htmlAttributes[i].replace(/\s+/g," ").trim();""!==s&&sf.base.addClass([this.inputWrapper.container],s.split(" "))}else if("disabled"===i&&"disabled"===this.htmlAttributes[i])this.enabled=!1,this.setEnable();else if("readonly"!==i||sf.base.isNullOrUndefined(this.htmlAttributes[i]))if("style"===i)this.inputWrapper.container.setAttribute("style",this.htmlAttributes[i]);else{var n=["title","id","placeholder","aria-placeholder","role","autocorrect","autocomplete","autocapitalize","spellcheck","minlength","maxlength"];"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||n.push("tabindex"),0===i.indexOf("data")||["name","required"].indexOf(i)>-1?this.hiddenElement.setAttribute(i,this.htmlAttributes[i]):n.indexOf(i)>-1?"placeholder"===i?sf.inputs.Input.setPlaceholder(this.htmlAttributes[i],this.inputElement):this.inputElement.setAttribute(i,this.htmlAttributes[i]):this.inputWrapper.container.setAttribute(i,this.htmlAttributes[i])}else this.readonly=!0,this.dataBind()}"autocomplete"!==this.getModuleName()&&"combobox"!==this.getModuleName()||this.inputWrapper.container.removeAttribute("tabindex")},t.prototype.getAriaAttributes=function(){return{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-haspopup":"true","aria-expanded":"false","aria-activedescendant":"null","aria-live":"polite","aria-labelledby":this.hiddenElement.id}},t.prototype.setEnableRtl=function(){sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputElement.parentElement]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){sf.inputs.Input.setEnabled(this.enabled,this.inputElement),this.enabled?(sf.base.removeClass([this.inputWrapper.container],o.disable),this.inputElement.setAttribute("aria-disabled","false"),this.targetElement().setAttribute("tabindex",this.tabIndex)):(this.hidePopup(),sf.base.addClass([this.inputWrapper.container],o.disable),this.inputElement.setAttribute("aria-disabled","true"),this.targetElement().tabIndex=-1)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getLocaleName=function(){return"drop-down-list"},t.prototype.preventTabIndex=function(e){"dropdownlist"===this.getModuleName()&&(e.tabIndex=-1)},t.prototype.targetElement=function(){return this.inputWrapper.container},t.prototype.getNgDirective=function(){return"EJS-DROPDOWNLIST"},t.prototype.getElementByText=function(e){return this.getElementByValue(this.getValueByText(e))},t.prototype.getElementByValue=function(e){for(var t,i=0,s=this.getItems();i<s.length;i++){var n=s[i];if(this.getFormattedValue(n.getAttribute("data-value"))===e){t=n;break}}return t},t.prototype.initValue=function(){this.renderList(),this.dataSource instanceof sf.data.DataManager?this.initRemoteRender=!0:this.updateValues()},t.prototype.updateValues=function(){if(sf.base.isNullOrUndefined(this.value))if(this.text&&sf.base.isNullOrUndefined(this.value)){var e=this.getElementByText(this.text);if(sf.base.isNullOrUndefined(e))return void this.setProperties({text:null});this.setSelection(e,null)}else this.setSelection(this.liCollections[this.activeIndex],null);else this.setSelection(this.getElementByValue(this.value),null);this.setHiddenValue(),sf.inputs.Input.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onBlur=function(e){if(this.enabled){var t=e.relatedTarget,i=e.target,s=this.isPreventBlur;this.isPreventBlur=!1,!s||this.isDocumentClick||!this.isPopupOpen||sf.base.isNullOrUndefined(i)&&(this.isFilterLayout()||!sf.base.isNullOrUndefined(t))?this.isDocumentClick||!sf.base.isNullOrUndefined(this.popupObj)&&document.body.contains(this.popupObj.element)&&this.popupObj.element.classList.contains(o.mobileFilter)?this.beforePopupOpen||(this.isDocumentClick=!1):(("dropdownlist"===this.getModuleName()&&!this.isFilterFocus&&t!==this.inputElement&&(document.activeElement!==t||document.activeElement===t&&i.classList.contains(o.inputFocus))||sf.base.isNullOrUndefined(t)&&"dropdownlist"===this.getModuleName()&&this.allowFiltering&&i!==this.inputWrapper.container||"dropdownlist"!==this.getModuleName()&&!this.inputWrapper.container.contains(t)||this.isTabKey)&&(this.isDocumentClick=!!this.isPopupOpen,this.focusOutAction(e),this.isTabKey=!1),!this.isRequested||this.isPopupOpen||this.isPreventBlur||(this.isActive=!1,this.beforePopupOpen=!1)):"dropdownlist"===this.getModuleName()&&this.allowFiltering&&this.isPopupOpen?this.filterInput.focus():this.targetElement().focus()}},t.prototype.focusOutAction=function(e){this.isInteracted=!1,this.focusOut(e),this.onFocusOut()},t.prototype.onFocusOut=function(){this.enabled&&(this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(null)),this.floatLabelChange(),this.dispatchEvent(this.hiddenElement,"change"),"dropdownlist"===this.getModuleName()&&"INPUT"!==this.element.tagName&&this.dispatchEvent(this.inputElement,"blur"),this.inputWrapper.clearButton&&sf.base.addClass([this.inputWrapper.clearButton],o.clearIconHide),this.trigger("blur"))},t.prototype.onFocus=function(e){if(!this.isInteracted){this.isInteracted=!0;var t={isInteracted:!!e,event:e};this.trigger("focus",t)}this.updateIconState()},t.prototype.resetValueHandler=function(e){var t=sf.base.closest(this.inputElement,"form");if(t&&e.target===t){var i=this.element.tagName===this.getNgDirective()?null:this.inputElement.getAttribute("value");this.text=i}},t.prototype.wireEvent=function(){sf.base.EventHandler.add(this.inputWrapper.container,"mousedown",this.dropDownClick,this),sf.base.EventHandler.add(this.inputWrapper.container,"focus",this.focusIn,this),sf.base.EventHandler.add(this.inputWrapper.container,"keypress",this.onSearch,this),this.bindCommonEvent()},t.prototype.bindCommonEvent=function(){sf.base.EventHandler.add(this.targetElement(),"blur",this.onBlur,this);var e=sf.base.closest(this.inputElement,"form");e&&sf.base.EventHandler.add(e,"reset",this.resetValueHandler,this),sf.base.Browser.isDevice?this.keyboardModule=new sf.base.KeyboardEvents(this.targetElement(),{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.keyboardModule=new sf.base.KeyboardEvents(this.targetElement(),{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.bindClearEvent()},t.prototype.bindClearEvent=function(){this.showClearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.resetHandler,this)},t.prototype.unBindCommonEvent=function(){sf.base.EventHandler.remove(this.targetElement(),"blur",this.onBlur);var e=sf.base.closest(this.inputElement,"form");e&&sf.base.EventHandler.remove(e,"reset",this.resetValueHandler),sf.base.Browser.isDevice||this.keyboardModule.destroy(),this.showClearButton&&sf.base.EventHandler.remove(this.inputWrapper.clearButton,"mousedown",this.resetHandler)},t.prototype.updateIconState=function(){this.showClearButton&&(""===this.inputElement.value||this.readonly?sf.base.addClass([this.inputWrapper.clearButton],o.clearIconHide):sf.base.removeClass([this.inputWrapper.clearButton],o.clearIconHide))},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.list,"click",this.onMouseClick,this),sf.base.EventHandler.add(this.list,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.list,"mouseout",this.onMouseLeave,this)},t.prototype.onSearch=function(e){32!==e.charCode&&13!==e.charCode&&(void 0===this.list&&(this.isServerBlazor?(this.isServerIncrementalSearch=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1)):this.renderList()),this.searchKeyEvent=e,this.onServerIncrementalSearch(e))},t.prototype.onServerIncrementalSearch=function(e){this.isRequested||sf.base.isNullOrUndefined(this.list)||sf.base.isNullOrUndefined(this.list.querySelector("li"))||!this.enabled||this.readonly||this.incrementalSearch(e)},t.prototype.onMouseClick=function(e){var t=e.target,i=(t.classList,sf.base.closest(t,"."+sf.dropdowns.dropDownBaseClasses.li));if(this.isValidLI(i))if(this.setSelection(i,e),sf.base.Browser.isDevice&&this.isFilterLayout())history.back();else{this.closePopup(100)}},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,"."+sf.dropdowns.dropDownBaseClasses.li);this.setHover(t)},t.prototype.setHover=function(e){this.enabled&&this.isValidLI(e)&&!e.classList.contains(sf.dropdowns.dropDownBaseClasses.hover)&&(this.removeHover(),sf.base.addClass([e],sf.dropdowns.dropDownBaseClasses.hover))},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.removeHover=function(){if(this.list){var e=this.isServerBlazor&&this.popupObj&&this.popupObj.element?this.popupObj.element.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.hover):this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.hover);e&&e.length&&sf.base.removeClass(e,sf.dropdowns.dropDownBaseClasses.hover)}},t.prototype.isValidLI=function(e){return e&&e.hasAttribute("role")&&"option"===e.getAttribute("role")},t.prototype.incrementalSearch=function(e){if(this.liCollections.length>0){var t=sf.dropdowns.incrementalSearch(e.charCode,this.liCollections,this.activeIndex,!0,this.element.id,this.isServerBlazor);sf.base.isNullOrUndefined(t)||(this.setSelection(t,e),this.setScrollPosition())}},t.prototype.hideSpinner=function(){sf.base.isNullOrUndefined(this.spinnerElement)||(sf.popups.hideSpinner(this.spinnerElement),sf.base.removeClass([this.spinnerElement],o.disableIcon),this.spinnerElement.innerHTML="",this.spinnerElement=null)},t.prototype.showSpinner=function(){sf.base.isNullOrUndefined(this.spinnerElement)&&(this.spinnerElement=sf.base.Browser.isDevice&&!sf.base.isNullOrUndefined(this.filterInputObj)&&this.filterInputObj.buttons[1]||!sf.base.isNullOrUndefined(this.filterInputObj)&&this.filterInputObj.buttons[0]||this.inputWrapper.buttons[0],sf.base.addClass([this.spinnerElement],o.disableIcon),sf.popups.createSpinner({target:this.spinnerElement,width:sf.base.Browser.isDevice?"16px":"14px"},this.createElement),sf.popups.showSpinner(this.spinnerElement))},t.prototype.keyActionHandler=function(e){if(this.enabled){var t="pageUp"===e.action||"pageDown"===e.action,i="dropdownlist"!==this.getModuleName()&&("home"===e.action||"end"===e.action);this.isEscapeKey="escape"===e.action,this.isTabKey=!this.isPopupOpen&&"tab"===e.action;var s="down"===e.action||"up"===e.action||"home"===e.action||"end"===e.action,n="down"===e.action||"up"===e.action||"pageUp"===e.action||"pageDown"===e.action||"home"===e.action||"end"===e.action;if((!(this.isEditTextBox()||t||i)||this.isPopupOpen)&&!this.readonly){var o="tab"===e.action||"close"===e.action;if(void 0!==this.list||this.isRequested||o||"escape"===e.action||(this.searchKeyEvent=e,this.renderList()),((!this.isServerBlazor||"open"!==e.action&&"space"!==e.action)&&sf.base.isNullOrUndefined(this.list)||!sf.base.isNullOrUndefined(this.liCollections)&&n&&0===this.liCollections.length||this.isRequested)&&(!this.isServerBlazor||!s))return;switch((o&&"autocomplete"!==this.getModuleName()&&this.isPopupOpen||"escape"===e.action)&&e.preventDefault(),this.isSelected="escape"!==e.action&&this.isSelected,this.isTyped=!n&&"escape"!==e.action&&this.isTyped,e.action){case"down":case"up":this.updateUpDownAction(e);break;case"pageUp":this.pageUpSelection(this.activeIndex-this.getPageCount(),e),e.preventDefault();break;case"pageDown":this.pageDownSelection(this.activeIndex+this.getPageCount(),e),e.preventDefault();break;case"home":case"end":this.updateHomeEndAction(e);break;case"space":"dropdownlist"===this.getModuleName()&&(this.beforePopupOpen||this.showPopup());break;case"open":this.showPopup();break;case"hide":this.preventAltUp=this.isPopupOpen,this.hidePopup(e),this.focusDropDown(e);break;case"enter":this.selectCurrentItem(e);break;case"tab":this.selectCurrentValueOnTab(e);break;case"escape":case"close":this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))}}}},t.prototype.updateUpDownAction=function(e){if(this.isServerBlazor&&sf.base.isNullOrUndefined(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{this.isServerNavigation=!1;var t=this.list.querySelector("."+o.focus);if(this.isSelectFocusItem(t))this.setSelection(t,e);else{var i,s="down"===e.action?this.activeIndex+1:this.activeIndex-1,n=0;"autocomplete"===this.getModuleName()&&(n="down"===e.action&&sf.base.isNullOrUndefined(this.activeIndex)?0:this.liCollections.length-1,s=s<0?this.liCollections.length-1:s===this.liCollections.length?0:s),i=sf.base.isNullOrUndefined(this.activeIndex)?this.liCollections[n]:this.liCollections[s],sf.base.isNullOrUndefined(i)||this.setSelection(i,e)}e.preventDefault()}},t.prototype.updateHomeEndAction=function(e){if("dropdownlist"===this.getModuleName())if(this.isServerBlazor&&sf.base.isNullOrUndefined(this.list))this.isServerNavigation=!0,this.interopAdaptor.invokeMethodAsync("OnServerRenderList",!0,!1);else{this.isServerNavigation=!1;var t=0;if(t="home"===e.action?0:this.getItems().length-1,e.preventDefault(),this.activeIndex===t)return;this.setSelection(this.liCollections[t],e)}},t.prototype.selectCurrentValueOnTab=function(e){"autocomplete"===this.getModuleName()?this.selectCurrentItem(e):this.isPopupOpen&&(this.hidePopup(e),this.focusDropDown(e))},t.prototype.mobileKeyActionHandler=function(e){if(this.enabled&&(!this.isEditTextBox()||this.isPopupOpen)&&!this.readonly){if(void 0!==this.list||this.isRequested||(this.searchKeyEvent=e,this.renderList()),sf.base.isNullOrUndefined(this.list)||!sf.base.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length||this.isRequested)return;"enter"===e.action&&this.selectCurrentItem(e)}},t.prototype.selectCurrentItem=function(e){if(this.isPopupOpen){var t=this.list.querySelector("."+o.focus);t&&(this.setSelection(t,e),this.isTyped=!1),this.isSelected&&(this.isSelectCustom=!1,this.onChangeEvent(e)),this.hidePopup(),this.focusDropDown(e)}else this.showPopup()},t.prototype.isSelectFocusItem=function(e){return!sf.base.isNullOrUndefined(e)},t.prototype.getPageCount=function(){var e=this.list.classList.contains(sf.dropdowns.dropDownBaseClasses.noData)?null:getComputedStyle(this.getItems()[0],null).getPropertyValue("height");return Math.round(this.list.getBoundingClientRect().height/parseInt(e,10))},t.prototype.pageUpSelection=function(e,t){var i=e>=0?this.liCollections[e+1]:this.liCollections[0];this.setSelection(i,t)},t.prototype.pageDownSelection=function(e,t){var i=this.getItems(),s=e<=i.length?this.liCollections[e-1]:this.liCollections[i.length-1];this.setSelection(s,t)},t.prototype.unWireEvent=function(){sf.base.EventHandler.remove(this.inputWrapper.container,"mousedown",this.dropDownClick),sf.base.EventHandler.remove(this.inputWrapper.container,"keypress",this.onSearch),sf.base.EventHandler.remove(this.inputWrapper.container,"focus",this.focusIn),this.unBindCommonEvent()},t.prototype.unWireListEvents=function(){sf.base.EventHandler.remove(this.list,"click",this.onMouseClick),sf.base.EventHandler.remove(this.list,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.list,"mouseout",this.onMouseLeave)},t.prototype.checkSelector=function(e){return'[id="'+e.replace(/(:|\.|\[|\]|,|=|@|\\|\/|#)/g,"\\$1")+'"]'},t.prototype.onDocumentClick=function(e){var t=e.target;if(!sf.base.isNullOrUndefined(this.popupObj)&&sf.base.closest(t,this.checkSelector(this.popupObj.element.id))||this.inputWrapper.container.contains(e.target))t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()&&!this.allowFiltering&&sf.base.Browser.isDevice&&t===this.inputWrapper.buttons[0]||(this.isPreventBlur=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&(document.activeElement===this.targetElement()||document.activeElement===this.filterInput),e.preventDefault());else if(this.inputWrapper.container.classList.contains(o.inputFocus)||this.isPopupOpen){this.isDocumentClick=!0;var i=this.isRequested;this.isInteracted=!1,this.hidePopup(e),i||(this.onFocusOut(),this.inputWrapper.container.classList.remove(o.inputFocus))}},t.prototype.activeStateChange=function(){this.isDocumentClick&&(this.hidePopup(),this.onFocusOut(),this.inputWrapper.container.classList.remove(o.inputFocus))},t.prototype.focusDropDown=function(e){!this.initial&&this.isFilterLayout()&&this.focusIn(e)},t.prototype.dropDownClick=function(e){if(3!==e.which&&2!==e.button&&!this.targetElement().classList.contains(o.disable)&&this.inputWrapper.clearButton!==e.target){var t=e.target;if(t===this.inputElement||this.allowFiltering&&t===this.filterInput||"combobox"===this.getModuleName()||e.preventDefault(),this.readonly)this.focusIn(e);else{this.isPopupOpen?(this.hidePopup(),this.isFilterLayout()&&this.focusDropDown(e)):(this.focusIn(e),this.floatLabelChange(),this.queryString=""===this.inputElement.value.trim()?null:this.inputElement.value,this.isDropDownClick=!0,this.showPopup());var i=this,s=sf.base.isBlazor()?1e3:this.element.tagName===this.getNgDirective()&&this.itemTemplate?500:100;this.isSecondClick||setTimeout((function(){i.cloneElements(),i.isSecondClick=!0}),s)}}},t.prototype.cloneElements=function(){if(this.list){var e=this.list.querySelector("ul");e&&(e=e.cloneNode?e.cloneNode(!0):e,this.actionCompleteData.ulElement=e)}},t.prototype.updateSelectedItem=function(e,t,i,s){var n=this;this.removeSelection(),e.classList.add(sf.dropdowns.dropDownBaseClasses.selected),this.removeHover();var o=this.getFormattedValue(e.getAttribute("data-value")),l=this.getDataByValue(o);if(this.initial||i||sf.base.isNullOrUndefined(t))this.selectEventCallback(e,t,i,l,o),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerItemData",this.itemData),s&&this.setSelectOptions(e,t);else{var a=this.detachChanges(l);this.isSelected=!0;var r={e:t,item:e,itemData:a,isInteracted:!!t,cancel:!1};this.trigger("select",r,(function(a){a.cancel?e.classList.remove(sf.dropdowns.dropDownBaseClasses.selected):(n.selectEventCallback(e,t,i,l,o),n.isServerBlazor&&n.interopAdaptor.invokeMethodAsync("OnServerItemData",n.itemData),s&&n.setSelectOptions(e,t))}))}},t.prototype.selectEventCallback=function(e,t,i,s,n){this.previousItemData=sf.base.isNullOrUndefined(this.itemData)?null:this.itemData,this.item=e,this.itemData=s;var o=this.list.querySelector("."+sf.dropdowns.dropDownBaseClasses.focus);o&&sf.base.removeClass([o],sf.dropdowns.dropDownBaseClasses.focus),e.setAttribute("aria-selected","true"),this.activeIndex=this.getIndexByValue(n)},t.prototype.activeItem=function(e){this.isValidLI(e)&&!e.classList.contains(sf.dropdowns.dropDownBaseClasses.selected)&&(this.removeSelection(),e.classList.add(sf.dropdowns.dropDownBaseClasses.selected),this.removeHover(),e.setAttribute("aria-selected","true"))},t.prototype.setValue=function(e){var t=this.getItemData();return null===t.value?sf.base.isBlazor()&&null!==t.text||""!==t.text?sf.inputs.Input.setValue(t.text,this.inputElement,this.floatLabelType,this.showClearButton):sf.inputs.Input.setValue(null,this.inputElement,this.floatLabelType,this.showClearButton):sf.inputs.Input.setValue(t.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isServerBlazor&&this.interopAdaptor.invokeMethodAsync("OnServerValueTemplate",t),this.valueTemplate&&null!==this.itemData&&!this.isServerBlazor?(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!0),this.setValueTemplate()):this.inputElement.previousSibling===this.valueTempElement&&(sf.base.detach(this.valueTempElement),this.inputElement.style.display="block"),this.previousValue===t.value?(this.isSelected=!1,!0):(this.isSelected=!this.initial,this.isSelectCustom=!1,"dropdownlist"===this.getModuleName()&&this.updateIconState(),!1)},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&(!e.classList.contains(sf.dropdowns.dropDownBaseClasses.selected)||this.isPopupOpen&&this.isSelected&&e.classList.contains(sf.dropdowns.dropDownBaseClasses.selected))?this.updateSelectedItem(e,t,!1,!0):this.setSelectOptions(e,t)},t.prototype.setSelectOptions=function(e,t){this.list&&this.removeHover(),this.previousSelectedLI=sf.base.isNullOrUndefined(this.selectedLI)?null:this.selectedLI,this.selectedLI=e,this.setValue(t)||(this.isPopupOpen&&(sf.base.attributes(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null}),this.isFilterLayout()&&this.filterInput&&sf.base.attributes(this.filterInput,{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})),(!this.isPopupOpen&&!sf.base.isNullOrUndefined(e)||this.isPopupOpen&&!sf.base.isNullOrUndefined(t)&&("keydown"!==t.type||"keydown"===t.type&&"enter"===t.action))&&(this.isSelectCustom=!1,this.onChangeEvent(t)),!this.isPopupOpen||sf.base.isNullOrUndefined(this.selectedLI)||null===this.itemData||t&&"click"===t.type||this.setScrollPosition(t),"mozilla"!==sf.base.Browser.info.name&&(sf.base.attributes(this.inputElement,{"aria-label":this.inputElement.value}),sf.base.attributes(this.targetElement(),{"aria-describedby":this.inputElement.id}),this.targetElement().removeAttribute("aria-live")))},t.prototype.dropdownCompiler=function(e){var t=!1;if(e)try{t=!!document.querySelectorAll(e).length}catch(e){t=!1}return t},t.prototype.setValueTemplate=function(){this.isReact&&this.clearTemplate(["valueTemplate"]),this.valueTempElement||(this.valueTempElement=this.createElement("span",{className:o.value}),this.inputElement.parentElement.insertBefore(this.valueTempElement,this.inputElement),this.inputElement.style.display="none"),this.valueTempElement.innerHTML="";var e=sf.base.isBlazor()?JSON.parse(JSON.stringify(this.itemData)):this.itemData,t=(this.dropdownCompiler(this.valueTemplate)?sf.base.compile(document.querySelector(this.valueTemplate).innerHTML.trim()):sf.base.compile(this.valueTemplate))(e,this,"valueTemplate",this.valueTemplateId,this.isStringTemplate,null,this.valueTempElement);if(t&&t.length>0)for(var i=0;i<t.length;i++)this.valueTempElement.appendChild(t[i]);this.renderReactTemplates(),this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!0,!0,!0)},t.prototype.removeSelection=function(){if(this.list){var e=this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.selected);e.length&&(sf.base.removeClass(e,sf.dropdowns.dropDownBaseClasses.selected),e[0].removeAttribute("aria-selected"))}},t.prototype.getItemData=function(){var e,t,i,s=this.fields;return e=this.itemData,sf.base.isNullOrUndefined(e)||(t=sf.base.getValue(s.value,e),i=sf.base.getValue(s.text,e)),{value:sf.base.isNullOrUndefined(e)||sf.base.isUndefined(t)?e:t,text:sf.base.isNullOrUndefined(e)||sf.base.isUndefined(t)?e:i}},t.prototype.onChangeEvent=function(e){var t=this.getItemData(),i=this.isSelectCustom?null:this.activeIndex;this.setProperties({index:i,text:t.text,value:t.value},!0),this.detachChangeEvent(e)},t.prototype.detachChanges=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e?Object.defineProperties({},{value:{value:e,enumerable:!0},text:{value:e,enumerable:!0}}):e},t.prototype.detachChangeEvent=function(e){if(this.isSelected=!1,this.previousValue=this.value,this.activeIndex=this.index,this.typedString=sf.base.isNullOrUndefined(this.text)?"":this.text,!this.initial){var t=this.detachChanges(this.itemData),i=void 0;i="string"==typeof this.previousItemData||"boolean"==typeof this.previousItemData||"number"==typeof this.previousItemData?Object.defineProperties({},{value:{value:this.previousItemData,enumerable:!0},text:{value:this.previousItemData,enumerable:!0}}):this.previousItemData,this.setHiddenValue();var s={e:e,item:this.item,itemData:t,previousItem:this.previousSelectedLI,previousItemData:i,isInteracted:!!e,value:this.value,element:this.element};this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",s),this.isServerBlazor&&this.enablePersistence&&this.interopAdaptor.invokeMethodAsync("ServerChange")}!sf.base.isNullOrUndefined(this.value)&&""!==this.value||"Always"===this.floatLabelType||sf.base.removeClass([this.inputWrapper.container],"e-valid-input")},t.prototype.setHiddenValue=function(){if(sf.base.isNullOrUndefined(this.value))this.isServerBlazor||(this.hiddenElement.innerHTML="");else if(this.isServerBlazor&&this.hiddenElement.querySelector("option"))(e=this.hiddenElement.querySelector("option")).textContent=this.text,e.setAttribute("value",this.value.toString());else if(!this.isServerBlazor){var e;this.hiddenElement.innerHTML="<option selected>"+this.text+"</option>",(e=this.hiddenElement.querySelector("option")).setAttribute("value",this.value.toString())}},t.prototype.onFilterUp=function(e){if(e.ctrlKey&&86===e.keyCode||!this.isValidKey&&40!==e.keyCode&&38!==e.keyCode)this.isValidKey=!1;else switch(this.isValidKey=!1,e.keyCode){case 38:case 40:"autocomplete"!==this.getModuleName()||this.isPopupOpen||this.preventAltUp||this.isRequested?this.preventAutoFill=!1:(this.preventAutoFill=!0,this.searchLists(e)),this.preventAltUp=!1,e.preventDefault();break;case 46:case 8:this.typedString=this.filterInput.value,!this.isPopupOpen&&""!==this.typedString||this.isPopupOpen&&this.queryString.length>0||""===this.typedString&&""===this.queryString&&"autocomplete"!==this.getModuleName()?(this.preventAutoFill=!0,this.searchLists(e)):""===this.typedString&&(this.list&&this.resetFocusElement(),this.activeIndex=null,"autocomplete"===this.getModuleName()&&this.hidePopup()),e.preventDefault();break;default:this.typedString=this.filterInput.value,this.preventAutoFill=!1,this.searchLists(e)}},t.prototype.onFilterDown=function(e){switch(e.keyCode){case 13:break;case 40:case 38:this.queryString=this.filterInput.value,e.preventDefault();break;case 9:this.isPopupOpen&&"autocomplete"!==this.getModuleName()&&e.preventDefault();break;default:this.prevSelectPoints=this.getSelectionPoints(),this.queryString=this.filterInput.value}},t.prototype.removeFillSelection=function(){if(this.isInteracted){var e=this.getSelectionPoints();this.inputElement.setSelectionRange(e.end,e.end)}},t.prototype.getQuery=function(e){var t;if(!this.isCustomFilter&&this.allowFiltering&&this.filterInput){t=e?e.clone():this.query?this.query.clone():new sf.data.Query;var i=""===this.typedString?"contains":this.filterType,s=this.typeOfData(this.dataSource).typeof;if((this.dataSource instanceof sf.data.DataManager||"string"!==s)&&"number"!==s){var n=this.fields.text?this.fields.text:"";t.where(n,i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t.where("",i,this.typedString,this.ignoreCase,this.ignoreAccent)}else t=e||(this.query?this.query:new sf.data.Query);return t},t.prototype.getSelectionPoints=function(){var e=this.inputElement;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.searchLists=function(e){var t=this;(this.isTyped=!0,this.activeIndex=null,this.isListSearched=!0,this.filterInput.parentElement.querySelector("."+o.clearIcon))&&(this.filterInput.parentElement.querySelector("."+o.clearIcon).style.visibility=""===this.filterInput.value?"hidden":"visible");if(this.isDataFetched=!1,this.isFiltering())if(this.isServerBlazor)this.beforePopupOpen="combobox"===this.getModuleName()&&this.isFiltering()&&!this.beforePopupOpen?!this.beforePopupOpen:this.beforePopupOpen,""===this.filterInput.value&&"dropdownlist"!==this.getModuleName()?this.interopAdaptor.invokeMethodAsync("OnServerRenderList",this.beforePopupOpen,!1):this.interopAdaptor.invokeMethodAsync("OnServerFilter",this.filterInput.value);else{var i={preventDefaultAction:!1,text:this.filterInput.value,updateData:function(e,s,n){i.cancel||(t.isCustomFilter=!0,t.filteringAction(e,s,n))},baseEventArgs:e,cancel:!1};this.trigger("filtering",i,(function(e){e.cancel||t.isCustomFilter||e.preventDefaultAction||t.filteringAction(t.dataSource,null,t.fields)}))}},t.prototype.filter=function(e,t,i){this.isCustomFilter=!0,this.filteringAction(e,t,i)},t.prototype.filteringAction=function(e,t,i){sf.base.isNullOrUndefined(this.filterInput)||(this.beforePopupOpen=!0,""!==this.filterInput.value.trim()||this.itemTemplate?(this.isNotSearchList=!1,t=""===this.filterInput.value.trim()?null:t,this.resetList(e,i,t)):(this.actionCompleteData.isUpdated=!1,this.isTyped=!1,sf.base.isNullOrUndefined(this.actionCompleteData.ulElement)||sf.base.isNullOrUndefined(this.actionCompleteData.list)||this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list),this.isTyped=!0,sf.base.isNullOrUndefined(this.itemData)||"dropdownlist"!==this.getModuleName()||(this.focusIndexItem(),this.setScrollPosition()),this.isNotSearchList=!0),this.renderReactTemplates())},t.prototype.setSearchBox=function(e){if(this.isFiltering()){var t=e.querySelector("."+o.filterParent)?e.querySelector("."+o.filterParent):this.createElement("span",{className:o.filterParent});this.isServerBlazor&&(t.innerHTML=""),this.filterInput=this.createElement("input",{attrs:{type:"text"},className:o.filterInput}),this.element.parentNode.insertBefore(this.filterInput,this.element);var i=!1;return sf.base.Browser.isDevice&&(i=!0),this.filterInputObj=sf.inputs.Input.createInput({element:this.filterInput,buttons:i?[o.backIcon,o.filterBarClearIcon]:[o.filterBarClearIcon],properties:{placeholder:this.filterBarPlaceholder}},this.createElement),sf.base.isNullOrUndefined(this.cssClass)||(-1!==this.cssClass.split(" ").indexOf("e-outline")?sf.base.addClass([this.filterInputObj.container],"e-outline"):-1!==this.cssClass.split(" ").indexOf("e-filled")&&sf.base.addClass([this.filterInputObj.container],"e-filled")),sf.base.append([this.filterInputObj.container],t),sf.base.prepend([t],e),sf.base.attributes(this.filterInput,{"aria-disabled":"false","aria-owns":this.element.id+"_options",role:"listbox","aria-activedescendant":this.selectedLI?this.selectedLI.id:null,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"}),this.clearIconElement=this.filterInput.parentElement.querySelector("."+o.clearIcon),!sf.base.Browser.isDevice&&this.clearIconElement&&(sf.base.EventHandler.add(this.clearIconElement,"click",this.clearText,this),this.clearIconElement.style.visibility="hidden"),sf.base.Browser.isDevice?this.searchKeyModule=new sf.base.KeyboardEvents(this.filterInput,{keyAction:this.mobileKeyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}):this.searchKeyModule=new sf.base.KeyboardEvents(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),sf.base.EventHandler.add(this.filterInput,"input",this.onInput,this),sf.base.EventHandler.add(this.filterInput,"keyup",this.onFilterUp,this),sf.base.EventHandler.add(this.filterInput,"keydown",this.onFilterDown,this),sf.base.EventHandler.add(this.filterInput,"blur",this.onBlur,this),sf.base.EventHandler.add(this.filterInput,"paste",this.pasteHandler,this),this.filterInputObj}return l},t.prototype.onInput=function(e){this.isValidKey=!0,sf.base.Browser.isDevice&&"mozilla"===sf.base.Browser.info.name&&(this.typedString=this.filterInput.value,this.preventAutoFill=!0,this.searchLists(e))},t.prototype.pasteHandler=function(e){var t=this;setTimeout((function(){t.typedString=t.filterInput.value,t.searchLists(e)}))},t.prototype.onActionFailure=function(t){e.prototype.onActionFailure.call(this,t),this.beforePopupOpen&&this.renderPopup()},t.prototype.onActionComplete=function(t,i,s,n){var o=this;if(this.isNotSearchList)this.isNotSearchList=!1;else if(this.isActive){var l=this.selectedLI?this.selectedLI.cloneNode(!0):null;if(e.prototype.onActionComplete.call(this,t,i,s),this.updateSelectElementData(this.allowFiltering),this.isRequested&&!sf.base.isNullOrUndefined(this.searchKeyEvent)&&"keydown"===this.searchKeyEvent.type&&(this.isRequested=!1,this.keyActionHandler(this.searchKeyEvent),this.searchKeyEvent=null),this.isRequested&&!sf.base.isNullOrUndefined(this.searchKeyEvent)&&(this.incrementalSearch(this.searchKeyEvent),this.searchKeyEvent=null),this.list.scrollTop=0,sf.base.isNullOrUndefined(t)||sf.base.attributes(t,{id:this.element.id+"_options",role:"listbox","aria-hidden":"false"}),this.initRemoteRender&&(this.initial=!0,this.activeIndex=this.index,this.updateValues(),this.initRemoteRender=!1,this.initial=!1,this.value&&this.dataSource instanceof sf.data.DataManager)){var a=sf.base.isNullOrUndefined(this.fields.value)?this.fields.text:this.fields.value;i.some((function(e){return e[a]===o.value}))||this.dataSource.executeQuery(this.getQuery(this.query).where(new sf.data.Predicate(a,"equal",this.value))).then((function(e){e.result.length>0&&(o.addItem(e.result,i.length),o.updateValues())}))}"autocomplete"!==this.getModuleName()&&this.isFiltering()&&!this.isTyped&&((!this.actionCompleteData.isUpdated||!this.isCustomFilter&&!this.isFilterFocus||sf.base.isNullOrUndefined(this.itemData)&&this.allowFiltering&&(this.dataSource instanceof sf.data.DataManager||!sf.base.isNullOrUndefined(this.dataSource)&&!sf.base.isNullOrUndefined(this.dataSource.length)&&0!==this.dataSource.length))&&(this.actionCompleteData={ulElement:t.cloneNode(!0),list:i,isUpdated:!0}),this.addNewItem(i,l),sf.base.isNullOrUndefined(this.itemData)||this.focusIndexItem()),this.beforePopupOpen&&this.renderPopup()}},t.prototype.addNewItem=function(e,t){var i=this;if(!sf.base.isNullOrUndefined(this.itemData)&&!sf.base.isNullOrUndefined(t)){var s=this.getItemData().value;e.some((function(e){return("string"==typeof e||"number"==typeof e)&&e===s||sf.base.getValue(i.fields.value,e)===s}))||this.addItem(this.itemData)}},t.prototype.updateActionCompleteData=function(e,t,i){"autocomplete"!==this.getModuleName()&&this.actionCompleteData.ulElement&&(null!=i?this.actionCompleteData.ulElement.insertBefore(e.cloneNode(!0),this.actionCompleteData.ulElement.childNodes[i]):this.actionCompleteData.ulElement.appendChild(e.cloneNode(!0)),this.isFiltering()&&this.actionCompleteData.list.indexOf(t)<0&&this.actionCompleteData.list.push(t))},t.prototype.focusIndexItem=function(){var e=this.getItemData().value;this.activeIndex=this.getIndexByValue(e);var t=this.findListElement(this.list,"li","data-value",e);this.selectedLI=t,this.activeItem(t),this.removeFocus()},t.prototype.updateSelection=function(){var e=this.list.querySelector("."+sf.dropdowns.dropDownBaseClasses.selected);e?(this.setProperties({index:this.getIndexByValue(e.getAttribute("data-value"))}),this.activeIndex=this.index):(this.removeFocus(),this.list.querySelector("."+sf.dropdowns.dropDownBaseClasses.li).classList.add(o.focus))},t.prototype.removeFocus=function(){var e=this.list.querySelectorAll("."+o.focus);e&&e.length&&sf.base.removeClass(e,o.focus)},t.prototype.renderPopup=function(){var e=this;if(this.popupObj&&document.body.contains(this.popupObj.element))this.refreshPopup();else{this.trigger("beforeOpen",{cancel:!1},(function(t){if(t.cancel)e.beforePopupOpen=!1;else{var i=e.serverPopupEle?e.serverPopupEle:e.createElement("div",{id:e.element.id+"_popup",className:"e-ddl e-popup "+(null!=e.cssClass?e.cssClass:"")}),s=e.setSearchBox(i);if(e.listHeight=sf.base.formatUnit(e.popupHeight),e.headerTemplate&&!e.isServerBlazor&&e.setHeaderTemplate(i),sf.base.append([e.list],i),e.footerTemplate&&!e.isServerBlazor&&e.setFooterTemplate(i),e.isServerRendered&&i&&i.querySelector(".e-ddl-footer")&&i.appendChild(i.querySelector(".e-ddl-footer")),document.body.appendChild(i),e.updateServerPopup(i),i.style.visibility="hidden","auto"!==e.popupHeight){if(e.searchBoxHeight=0,sf.base.isNullOrUndefined(s.container)||(e.searchBoxHeight=s.container.parentElement.getBoundingClientRect().height,e.listHeight=(parseInt(e.listHeight,10)-e.searchBoxHeight).toString()+"px"),e.headerTemplate||e.isServerRendered&&i&&i.querySelector(".e-ddl-header")){e.header=e.header?e.header:i.querySelector(".e-ddl-header");var n=Math.round(e.header.getBoundingClientRect().height);e.listHeight=(parseInt(e.listHeight,10)-(n+e.searchBoxHeight)).toString()+"px"}if(e.footerTemplate||e.isServerRendered&&i&&i.querySelector(".e-ddl-footer")){e.footer=e.footer?e.footer:i.querySelector(".e-ddl-footer");n=Math.round(e.footer.getBoundingClientRect().height);e.listHeight=(parseInt(e.listHeight,10)-(n+e.searchBoxHeight)).toString()+"px"}e.list.style.maxHeight=(parseInt(e.listHeight,10)-2).toString()+"px",i.style.maxHeight=sf.base.formatUnit(e.popupHeight)}else i.style.height="auto";var l=0,a=void 0;if(!sf.base.isNullOrUndefined(e.selectedLI)&&!sf.base.isNullOrUndefined(e.activeIndex)&&e.activeIndex>=0?e.setScrollPosition():e.list.scrollTop=0,sf.base.Browser.isDevice&&!e.allowFiltering&&("dropdownlist"===e.getModuleName()||e.isDropDownClick&&"combobox"===e.getModuleName())){l=e.getOffsetValue(i);var r=e.isEmptyList()?e.list:e.liCollections[0];a=-(parseInt(getComputedStyle(r).textIndent,10)-parseInt(getComputedStyle(e.inputElement).paddingLeft,10)+parseInt(getComputedStyle(e.inputElement.parentElement).borderLeftWidth,10))}e.getFocusElement(),e.createPopup(i,l,a),e.checkCollision(i),sf.base.Browser.isDevice&&(e.popupObj.element.classList.add(o.device),("dropdownlist"===e.getModuleName()||"combobox"===e.getModuleName()&&!e.allowFiltering&&e.isDropDownClick)&&(e.popupObj.collision={X:"fit",Y:"fit"}),e.isFilterLayout()&&(e.popupObj.element.classList.add(o.mobileFilter),e.popupObj.position={X:0,Y:0},e.popupObj.dataBind(),sf.base.attributes(e.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;"}),sf.base.addClass([document.body,e.popupObj.element],o.popupFullScreen),e.setSearchBoxPosition(),e.backIconElement=s.container.querySelector(".e-back-icon"),e.clearIconElement=s.container.querySelector("."+o.clearIcon),sf.base.EventHandler.add(e.backIconElement,"click",e.clickOnBackIcon,e),sf.base.EventHandler.add(e.clearIconElement,"click",e.clearText,e))),i.style.visibility="visible",sf.base.addClass([i],"e-popup-close");for(var p=0,h=e.popupObj.getScrollableParent(e.inputWrapper.container);p<h.length;p++){var u=h[p];sf.base.EventHandler.add(u,"scroll",e.scrollHandler,e)}sf.base.Browser.isDevice&&e.isFilterLayout()&&sf.base.EventHandler.add(e.list,"scroll",e.listScroll,e),sf.base.isNullOrUndefined(e.list)||(e.unWireListEvents(),e.wireListEvents()),sf.base.attributes(e.targetElement(),{"aria-expanded":"true"});var d=e.isFiltering()?e.filterInput.parentElement:e.inputWrapper.container;sf.base.addClass([d],[o.inputFocus]);e.beforePopupOpen=!0;var c={popup:sf.base.isBlazor()&&e.isServerRendered?null:e.popupObj,cancel:!1,animation:{name:"FadeIn",duration:100}};e.trigger("open",c,(function(t){t.cancel?(e.beforePopupOpen=!1,e.destroyPopup()):(e.serverBlazorUpdateSelection(),e.bindServerScrollEvent(),sf.base.addClass([e.inputWrapper.container],[o.iconAnimation]),e.renderReactTemplates(),e.popupObj.show(new sf.base.Animation(t.animation),1e3===e.zIndex?e.element:null))}))}}))}},t.prototype.checkCollision=function(e){(!sf.base.Browser.isDevice||sf.base.Browser.isDevice&&"dropdownlist"!==this.getModuleName()&&!this.isDropDownClick)&&(sf.popups.isCollide(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"),this.popupObj.resolveCollision())},t.prototype.serverBlazorUpdateSelection=function(){(this.isServerBlazor&&(null!==this.value||null!==this.index||null!==this.text)||"dropdownlist"!==this.getModuleName()&&!this.isTyped)&&("dropdownlist"===this.getModuleName()&&(this.removeSelection(),this.removeFocus(),this.removeHover(),this.updateValues()),"combobox"===this.getModuleName()&&this.ulElement&&this.findListElement(this.ulElement,"li","data-value",this.value)&&!this.isTyped&&this.updateValues(),this.isServerBlazor&&"dropdownlist"!==this.getModuleName()&&(""===this.text||null===this.text)&&this.ulElement&&(this.ulElement.querySelector("li").classList.contains(sf.dropdowns.dropDownBaseClasses.hover)||sf.base.addClass([this.ulElement.querySelector("li")],sf.dropdowns.dropDownBaseClasses.hover)))},t.prototype.bindServerScrollEvent=function(){this.isServerBlazor&&this.list&&this.fields.groupBy&&!this.isGroupChecking&&(sf.base.EventHandler.remove(this.list,"scroll",this.setFloatingHeader),sf.base.EventHandler.add(this.list,"scroll",this.setFloatingHeader,this))},t.prototype.updateServerPopup=function(e){this.isServerBlazor&&(e&&e.querySelector("li")&&sf.base.removeClass([e.querySelector(".e-content")],["e-nodata"]),this.initial=!1,e.removeAttribute("style"))},t.prototype.getOffsetValue=function(e){var t=getComputedStyle(e),i=parseInt(t.borderTopWidth,10),s=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(i+s)},t.prototype.createPopup=function(e,t,i){var s=this;this.popupObj=new sf.popups.Popup(e,{width:this.setWidth(),targetType:"relative",relateTo:this.inputWrapper.container,collision:{X:"flip",Y:"flip"},offsetY:t,enableRtl:this.enableRtl,offsetX:i,position:{X:"left",Y:"bottom"},zIndex:this.zIndex,close:function(){s.isDocumentClick||s.focusDropDown(),s.isReact&&s.clearTemplate(["headerTemplate","footerTemplate"]);var e="autocomplete"===s.getModuleName();s.DropDownBaseresetBlazorTemplates(e,e,!0,!0,!1,!0,!0),s.isNotSearchList=!1,s.isDocumentClick=!1,s.destroyPopup();sf.base.closest(s.inputElement,"form");s.isFiltering()&&s.actionCompleteData.list&&s.actionCompleteData.list[0]&&(s.isActive=!0,s.onActionComplete(s.actionCompleteData.ulElement,s.actionCompleteData.list,null,!0))},open:function(){sf.base.EventHandler.add(document,"mousedown",s.onDocumentClick,s),s.isPopupOpen=!0;var e=s.actionCompleteData&&s.actionCompleteData.ulElement&&s.actionCompleteData.ulElement.querySelector("li"),t=s.list.querySelector("ul li");s.isFiltering()&&s.itemTemplate&&s.element.tagName===s.getNgDirective()&&e&&t&&e.textContent!==t.textContent&&s.cloneElements(),s.isFilterLayout()&&(sf.base.removeClass([s.inputWrapper.container],[o.inputFocus]),s.isFilterFocus=!0,s.filterInput.focus(),s.inputWrapper.clearButton&&sf.base.addClass([s.inputWrapper.clearButton],o.clearIconHide)),s.activeStateChange()},targetExitViewport:function(){sf.base.Browser.isDevice||s.hidePopup()}})},t.prototype.isEmptyList=function(){return!sf.base.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length},t.prototype.getFocusElement=function(){},t.prototype.isFilterLayout=function(){return"dropdownlist"===this.getModuleName()&&this.allowFiltering},t.prototype.scrollHandler=function(){sf.base.Browser.isDevice&&("dropdownlist"===this.getModuleName()&&!this.isFilterLayout()||"combobox"===this.getModuleName()&&!this.allowFiltering&&this.isDropDownClick)&&this.hidePopup()},t.prototype.setSearchBoxPosition=function(){var e=this.filterInput.parentElement.getBoundingClientRect().height;this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%",this.list.style.maxHeight=window.innerHeight-e+"px",this.list.style.height=window.innerHeight-e+"px";var t=this.filterInput.parentElement.querySelector("."+o.clearIcon);sf.base.detach(this.filterInput),t.parentElement.insertBefore(this.filterInput,t)},t.prototype.setPopupPosition=function(e){var t,i=e,s=this.list.querySelector("."+o.focus)||this.selectedLI,n=this.isEmptyList()?this.list:this.liCollections[0],l=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],a=n.getBoundingClientRect().height,r=this.list.offsetHeight/2,p=sf.base.isNullOrUndefined(s)?n.offsetTop:s.offsetTop;if(l.offsetTop-r<p&&!sf.base.isNullOrUndefined(this.liCollections)&&this.liCollections.length>0&&!sf.base.isNullOrUndefined(s)){var h=this.list.offsetHeight/a,u=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(h-(this.liCollections.length-this.activeIndex))*a-i+u,this.list.scrollTop=s.offsetTop}else p>r?(t=r-a/2,this.list.scrollTop=p-r+a/2):t=p;return-(t=t+a+i-(a-this.inputWrapper.container.offsetHeight)/2)},t.prototype.setWidth=function(){var e=sf.base.formatUnit(this.popupWidth);e.indexOf("%")>-1&&(e=(this.inputWrapper.container.offsetWidth*parseFloat(e)/100).toString()+"px");if(sf.base.Browser.isDevice&&!this.allowFiltering&&("dropdownlist"===this.getModuleName()||this.isDropDownClick&&"combobox"===this.getModuleName())){var t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.inputElement).paddingLeft,10)+parseInt(getComputedStyle(this.inputElement.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.scrollBottom=function(e){if(!sf.base.isNullOrUndefined(this.selectedLI)){var t=this.list.offsetHeight,i=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop,s=this.list.scrollTop+i-t;s=e?s+2*parseInt(getComputedStyle(this.list).paddingTop,10):s;var n=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;n=this.fields.groupBy&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?n-this.fixedHeaderElement.offsetHeight:n,0===this.activeIndex?this.list.scrollTop=0:(i>t||!(n>0&&this.list.offsetHeight>n))&&(this.list.scrollTop=s)}},t.prototype.scrollTop=function(){if(!sf.base.isNullOrUndefined(this.selectedLI)){var e=this.selectedLI.offsetTop-this.list.scrollTop;this.selectedLI.offsetTop,this.selectedLI.offsetHeight,this.list.scrollTop;e=this.fields.groupBy&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?e-this.fixedHeaderElement.offsetHeight:e;var t=this.selectedLI.offsetTop+this.selectedLI.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:e<0?this.list.scrollTop=this.list.scrollTop+e:t>0&&this.list.offsetHeight>t||(this.list.scrollTop=this.selectedLI.offsetTop-(this.fields.groupBy&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},t.prototype.isEditTextBox=function(){return!1},t.prototype.isFiltering=function(){return this.allowFiltering},t.prototype.isPopupButton=function(){return!0},t.prototype.setScrollPosition=function(e){if(sf.base.isNullOrUndefined(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}},t.prototype.clearText=function(){this.filterInput.value=this.typedString="",this.searchLists(null)},t.prototype.listScroll=function(){this.filterInput.blur()},t.prototype.setEleWidth=function(e){sf.base.isNullOrUndefined(e)||("number"==typeof e?this.inputWrapper.container.style.width=sf.base.formatUnit(e):"string"==typeof e&&(this.inputWrapper.container.style.width=e.match(/px|%|em/)?e:sf.base.formatUnit(e)))},t.prototype.closePopup=function(e){var t=this;if(this.isTyped=!1,this.popupObj&&document.body.contains(this.popupObj.element)&&this.beforePopupOpen){sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick),this.isActive=!1,this.filterInputObj=null,this.isDropDownClick=!1,this.preventAutoFill=!1;for(var i=0,s=this.popupObj.getScrollableParent(this.inputWrapper.container);i<s.length;i++){var n=s[i];sf.base.EventHandler.remove(n,"scroll",this.scrollHandler)}sf.base.Browser.isDevice&&this.isFilterLayout()&&(sf.base.removeClass([document.body,this.popupObj.element],o.popupFullScreen),sf.base.EventHandler.remove(this.list,"scroll",this.listScroll)),this.isFilterLayout()&&(sf.base.Browser.isDevice||(this.searchKeyModule.destroy(),this.clearIconElement&&sf.base.EventHandler.remove(this.clearIconElement,"click",this.clearText)),this.backIconElement&&(sf.base.EventHandler.remove(this.backIconElement,"click",this.clickOnBackIcon),sf.base.EventHandler.remove(this.clearIconElement,"click",this.clearText)),sf.base.EventHandler.remove(this.filterInput,"input",this.onInput),sf.base.EventHandler.remove(this.filterInput,"keyup",this.onFilterUp),sf.base.EventHandler.remove(this.filterInput,"keydown",this.onFilterDown),sf.base.EventHandler.remove(this.filterInput,"blur",this.onBlur),sf.base.EventHandler.remove(this.filterInput,"paste",this.pasteHandler),this.filterInput=null),sf.base.attributes(this.targetElement(),{"aria-expanded":"false","aria-activedescendant":null}),this.inputWrapper.container.classList.remove(o.iconAnimation),this.isFiltering()&&(this.actionCompleteData.isUpdated=!1),this.beforePopupOpen=!1;var l={name:"FadeOut",duration:100,delay:e||0},a={popup:sf.base.isBlazor()&&this.isServerRendered?null:this.popupObj,cancel:!1,animation:l};this.trigger("close",a,(function(e){if(!sf.base.isNullOrUndefined(t.popupObj)&&!sf.base.isNullOrUndefined(t.popupObj.element.querySelector(".e-fixed-head"))){var i=t.popupObj.element.querySelector(".e-fixed-head");i.parentNode.removeChild(i),t.fixedHeaderElement=null}e.cancel||("autocomplete"!==t.getModuleName()||t.isServerBlazor||t.rippleFun(),t.isPopupOpen?t.popupObj.hide(new sf.base.Animation(e.animation)):t.destroyPopup())}))}},t.prototype.destroyPopup=function(){var e=sf.base.select("#"+this.element.id+"_popup_holder",document);this.isServerBlazor&&this.serverPopupEle&&e&&(e.appendChild(this.serverPopupEle),this.interopAdaptor.invokeMethodAsync("OnServerClosePopup")),this.isPopupOpen=!1,this.isFilterFocus=!1,this.popupObj.destroy(),sf.base.detach(this.popupObj.element)},t.prototype.clickOnBackIcon=function(){this.hidePopup(),this.focusIn()},t.prototype.render=function(){if(this.isServerBlazor)this.inputElement=this.element,this.inputWrapper={container:this.element.parentElement},this.hiddenElement=this.inputWrapper.container.querySelector("select"),this.inputWrapper.buttons=[this.inputWrapper.container.querySelector(".e-input-group-icon.e-ddl-icon")],this.showClearButton&&(this.inputWrapper.clearButton=this.inputWrapper.container.querySelector(".e-clear-icon"),sf.inputs.Input.wireClearBtnEvents(this.element,this.inputWrapper.clearButton,this.inputWrapper.container)),"Auto"===this.floatLabelType&&sf.inputs.Input.wireFloatingEvents(this.element),sf.inputs.Input.bindInitialEvent({element:this.element,buttons:null,customTag:null,floatLabelType:this.floatLabelType,properties:this.properties}),this.setFields(),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.enabled||(this.targetElement().tabIndex=-1),this.element.hasAttribute("autofocus")&&this.focusIn(),this.initial=!1;else{"INPUT"===this.element.tagName?(this.inputElement=this.element,sf.base.isNullOrUndefined(this.inputElement.getAttribute("role"))&&this.inputElement.setAttribute("role","textbox"),sf.base.isNullOrUndefined(this.inputElement.getAttribute("type"))&&this.inputElement.setAttribute("type","text")):(this.inputElement=this.createElement("input",{attrs:{role:"textbox",type:"text"}}),this.element.tagName!==this.getNgDirective()&&(this.element.style.display="none"),this.element.parentElement.insertBefore(this.inputElement,this.element),this.preventTabIndex(this.inputElement));var e=this.cssClass;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=sf.inputs.Input.createInput({element:this.inputElement,buttons:this.isPopupButton()?[o.icon]:null,floatLabelType:this.floatLabelType,properties:{readonly:"dropdownlist"===this.getModuleName()||this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton}},this.createElement),this.element.tagName===this.getNgDirective()?this.element.appendChild(this.inputWrapper.container):this.inputElement.parentElement.insertBefore(this.element,this.inputElement),this.hiddenElement=this.createElement("select",{attrs:{"aria-hidden":"true",tabindex:"-1",class:o.hiddenElement}}),sf.base.prepend([this.hiddenElement],this.inputWrapper.container),this.validationAttribute(this.element,this.hiddenElement),this.setFields(),this.inputWrapper.container.style.width=sf.base.formatUnit(this.width),this.inputWrapper.container.classList.add("e-ddl"),this.wireEvent(),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex");var t=this.element.getAttribute("id")?this.element.getAttribute("id"):sf.base.getUniqueID("ej2_dropdownlist");if(this.element.id=t,this.hiddenElement.id=t+"_hidden",this.targetElement().setAttribute("tabindex",this.tabIndex),sf.base.attributes(this.targetElement(),this.getAriaAttributes()),this.updateDataAttribute(this.htmlAttributes),this.setHTMLAttributes(),null!==this.value||null!==this.activeIndex||null!==this.text)this.initValue();else if("SELECT"===this.element.tagName&&this.element.options[0]){var i=this.element;this.value=i.options[i.selectedIndex].value,this.text=sf.base.isNullOrUndefined(this.value)?null:i.options[i.selectedIndex].textContent,this.initValue()}this.preventTabIndex(this.element),this.enabled||(this.targetElement().tabIndex=-1),this.initial=!1,this.element.style.opacity="",this.inputElement.onselect=function(e){e.stopImmediatePropagation()},this.inputElement.onchange=function(e){e.stopImmediatePropagation()},this.element.hasAttribute("autofocus")&&this.focusIn(),sf.base.isNullOrUndefined(this.text)||this.inputElement.setAttribute("value",this.text)}this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),this.renderComplete()},t.prototype.setFooterTemplate=function(e){this.footer?this.footer.innerHTML="":(this.footer=this.createElement("div"),sf.base.addClass([this.footer],o.footer));var t=(this.dropdownCompiler(this.footerTemplate)?sf.base.compile(sf.base.select(this.footerTemplate,document).innerHTML.trim()):sf.base.compile(this.footerTemplate))({},this,"footerTemplate",this.footerTemplateId,this.isStringTemplate,null,this.footer);if(t&&t.length>0)for(var i=0;i<t.length;i++)this.footer.appendChild(t[i]);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!1,!0),sf.base.append([this.footer],e)},t.prototype.setHeaderTemplate=function(e){this.header?this.header.innerHTML="":(this.header=this.createElement("div"),sf.base.addClass([this.header],o.header));var t=(this.dropdownCompiler(this.headerTemplate)?sf.base.compile(sf.base.select(this.headerTemplate,document).innerHTML.trim()):sf.base.compile(this.headerTemplate))({},this,"headerTemplate",this.headerTemplateId,this.isStringTemplate,null,this.header);if(t&&t.length)for(var i=0;i<t.length;i++)this.header.appendChild(t[i]);this.DropDownBaseupdateBlazorTemplates(!1,!1,!1,!1,!1,!0,!1);var s=e.querySelector("div.e-content");e.insertBefore(this.header,s)},t.prototype.setOldText=function(e){this.text=e},t.prototype.setOldValue=function(e){this.value=e},t.prototype.refreshPopup=function(){sf.base.isNullOrUndefined(this.popupObj)||!document.body.contains(this.popupObj.element)||(!this.allowFiltering||sf.base.Browser.isDevice&&this.isFilterLayout())&&"autocomplete"!==this.getModuleName()||(sf.base.removeClass([this.popupObj.element],"e-popup-close"),this.popupObj.refreshPosition(this.inputWrapper.container),this.popupObj.resolveCollision())},t.prototype.checkData=function(e){!e.dataSource||sf.base.isNullOrUndefined(Object.keys(e.dataSource))||!this.itemTemplate||!this.allowFiltering||this.isListSearched&&e.dataSource instanceof sf.data.DataManager||(this.list=null,this.actionCompleteData={ulElement:null,list:null,isUpdated:!1}),this.isListSearched=!1;var t=-1!==Object.keys(e).indexOf("value")&&sf.base.isNullOrUndefined(e.value),i=-1!==Object.keys(e).indexOf("text")&&sf.base.isNullOrUndefined(e.text);"autocomplete"!==this.getModuleName()&&this.allowFiltering&&(t||i)&&(this.itemData=null),this.allowFiltering&&e.dataSource&&!sf.base.isNullOrUndefined(Object.keys(e.dataSource))&&(this.actionCompleteData={ulElement:null,list:null,isUpdated:!1})},t.prototype.updateDataSource=function(e){""===this.inputElement.value&&(sf.base.isNullOrUndefined(e)||!sf.base.isNullOrUndefined(e.dataSource)&&(e.dataSource instanceof sf.data.DataManager||0!==e.dataSource.length))||this.clearAll(null,e),(sf.base.isNullOrUndefined(e)||!sf.base.isNullOrUndefined(e.dataSource)&&(e.dataSource instanceof sf.data.DataManager||0!==e.dataSource.length)||e.dataSource!==[])&&(this.typedString="",this.resetList(this.dataSource)),this.isCustomFilter||this.isFilterFocus||document.activeElement===this.filterInput||this.checkCustomValue()},t.prototype.checkCustomValue=function(){this.itemData=this.getDataByValue(this.value);var e=this.getItemData();this.setProperties({value:e.value,text:e.text})},t.prototype.updateInputFields=function(){"dropdownlist"===this.getModuleName()&&sf.inputs.Input.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.onPropertyChanged=function(t,i){"dropdownlist"===this.getModuleName()&&(this.isServerBlazor||(this.checkData(t),this.setUpdateInitial(["fields","query","dataSource"],t)));for(var s=0,n=Object.keys(t);s<n.length;s++){var o=n[s];switch(o){case"query":case"dataSource":break;case"htmlAttributes":this.setHTMLAttributes();break;case"width":this.setEleWidth(t.width);break;case"placeholder":sf.inputs.Input.setPlaceholder(t.placeholder,this.inputElement);break;case"filterBarPlaceholder":this.filterInput&&sf.inputs.Input.setPlaceholder(t.filterBarPlaceholder,this.filterInput);break;case"readonly":"dropdownlist"!==this.getModuleName()&&sf.inputs.Input.setReadonly(t.readonly,this.inputElement);break;case"cssClass":this.setCssClass(t.cssClass,i.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"enabled":this.setEnable();break;case"text":if(null===t.text){this.clearAll();break}if(this.list||(this.dataSource instanceof sf.data.DataManager&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){var l=this.getElementByText(t.text);this.checkValidLi(l)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(t.text,i.text,"text"):this.isServerBlazor||this.setOldText(i.text)),this.updateInputFields()}break;case"value":if(null===t.value){this.clearAll();break}if(this.notify("beforeValueChange",{newProp:t}),this.list||(this.dataSource instanceof sf.data.DataManager&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender){var a=this.getElementByValue(t.value);this.checkValidLi(a)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(t.value,i.value,"value"):this.isServerBlazor||this.setOldValue(i.value)),this.updateInputFields()}break;case"index":if(null===t.index){this.clearAll();break}if(this.list||(this.dataSource instanceof sf.data.DataManager&&(this.initRemoteRender=!0),this.renderList()),!this.initRemoteRender&&this.liCollections){var r=this.liCollections[t.index];this.checkValidLi(r)||(this.liCollections&&100===this.liCollections.length&&"autocomplete"===this.getModuleName()&&this.listData.length>100?this.setSelectionData(t.index,i.index,"index"):this.isServerBlazor||(this.index=i.index)),this.updateInputFields()}break;case"footerTemplate":this.popupObj&&this.setFooterTemplate(this.popupObj.element);break;case"headerTemplate":this.popupObj&&this.setHeaderTemplate(this.popupObj.element);break;case"valueTemplate":sf.base.isNullOrUndefined(this.itemData)||null==this.valueTemplate||this.setValueTemplate();break;case"allowFiltering":this.allowFiltering&&(this.actionCompleteData={ulElement:this.ulElement,list:this.listData,isUpdated:!0},this.updateSelectElementData(this.allowFiltering));break;case"floatLabelType":sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,t.floatLabelType,this.placeholder,this.createElement);break;case"showClearButton":sf.inputs.Input.setClearButton(t.showClearButton,this.inputElement,this.inputWrapper,null,this.createElement),this.bindClearEvent();break;default:var p;p=this.getPropObject(o,t,i),e.prototype.onPropertyChanged.call(this,p.newProperty,p.oldProperty)}}},t.prototype.checkValidLi=function(e){return!!this.isValidLI(e)&&(this.setSelection(e,null),!0)},t.prototype.setSelectionData=function(e,t,i){var s,n=this;this.updateListValues=function(){"text"===i?(s=n.getElementByText(e),n.checkValidLi(s)||n.setOldText(t)):"value"===i?(s=n.getElementByValue(e),n.checkValidLi(s)||n.setOldValue(t)):"index"===i&&(s=n.liCollections[e],n.checkValidLi(s)||(n.index=t))}},t.prototype.setCssClass=function(e,t){sf.base.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupObj&&sf.inputs.Input.setCssClass(e,[this.popupObj.element],t)},t.prototype.getModuleName=function(){return"dropdownlist"},t.prototype.showPopup=function(){if(this.enabled)if(sf.base.isBlazor()&&this.itemTemplate&&this.DropDownBaseupdateBlazorTemplates(!0,!1,!1,!1),this.beforePopupOpen)this.refreshPopup();else{this.beforePopupOpen=!0,this.isFiltering()&&!this.isActive&&this.actionCompleteData.list&&this.actionCompleteData.list[0]?(this.isActive=!0,this.onActionComplete(this.actionCompleteData.ulElement,this.actionCompleteData.list,null,!0)):(sf.base.isNullOrUndefined(this.list)||!sf.base.isUndefined(this.list)&&(this.list.classList.contains(sf.dropdowns.dropDownBaseClasses.noData)||this.list.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li).length<=0)||this.isFiltering()&&this.isServerBlazor)&&this.renderList(),this.isServerBlazor||this.invokeRenderPopup();var e=!this.isFiltering()||sf.base.select("#"+this.element.id+"_popup_holder",document),t="dropdownlist"===this.getModuleName()||!this.isFiltering();this.isServerBlazor&&e&&!sf.base.isNullOrUndefined(this.list)&&t&&this.invokeRenderPopup()}},t.prototype.invokeRenderPopup=function(){if(sf.base.Browser.isDevice&&this.isFilterLayout()){var e=this;window.onpopstate=function(){e.hidePopup()},history.pushState({},"")}sf.base.isNullOrUndefined(this.list.children[0])&&!this.list.classList.contains(sf.dropdowns.dropDownBaseClasses.noData)||this.renderPopup(),sf.base.attributes(this.targetElement(),{"aria-activedescendant":this.selectedLI?this.selectedLI.id:null})},t.prototype.clientRenderPopup=function(e,t){t?(this.serverPopupEle=t,this.list=t.querySelector(".e-dropdownbase.e-content")?t.querySelector(".e-dropdownbase.e-content"):this.list,this.ulElement=this.list.querySelector("ul"),sf.base.isNullOrUndefined(this.ulElement)&&!this.list.classList.contains(sf.dropdowns.dropDownBaseClasses.noData)&&sf.base.addClass([this.list],[sf.dropdowns.dropDownBaseClasses.noData]),this.liCollections=this.ulElement?this.ulElement.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li):[],this.listData=e,"autocomplete"===this.getModuleName()&&this.liCollections.length>0&&this.renderHightSearch(),this.initRemoteRender=!1,this.isPopupOpen||this.serverBlazorUpdateSelection(),this.unWireListEvents(),this.wireListEvents(),this.isServerIncrementalSearch&&this.searchKeyEvent&&(this.isServerIncrementalSearch=!1,this.initial=!1,this.onServerIncrementalSearch(this.searchKeyEvent)),this.isServerNavigation&&this.searchKeyEvent&&("down"===this.searchKeyEvent.action||"up"===this.searchKeyEvent.action?(this.isServerNavigation=!1,this.updateUpDownAction(this.searchKeyEvent)):"home"!==this.searchKeyEvent.action&&"end"!==this.searchKeyEvent.action||(this.isServerNavigation=!1,this.updateHomeEndAction(this.searchKeyEvent))),this.beforePopupOpen&&this.invokeRenderPopup(),"dropdownlist"!==this.getModuleName()&&this.onActionComplete(this.ulElement,this.listData)):null!=e&&this.listData!==e&&(this.listData=e,this.initRemoteRender=!1)},t.prototype.renderHightSearch=function(){},t.prototype.updateclientItemData=function(e){this.listData=e},t.prototype.initValueItemData=function(e){this.itemData=e,this.previousValue=this.value,this.initial=!1},t.prototype.serverUpdateListElement=function(e,t){this.listData=e,this.ulElement&&(this.liCollections=this.ulElement.querySelectorAll("."+sf.dropdowns.dropDownBaseClasses.li))},t.prototype.hidePopup=function(e){var t=!!this.headerTemplate,i=!!this.headerTemplate;if(this.DropDownBaseresetBlazorTemplates(!1,!1,!1,!1,!1,t,i),this.isEscapeKey&&"dropdownlist"===this.getModuleName())if(sf.inputs.Input.setValue(this.text,this.inputElement,this.floatLabelType,this.showClearButton),this.isEscapeKey=!1,sf.base.isNullOrUndefined(this.index))this.resetSelection();else{var s=this.findListElement(this.ulElement,"li","data-value",this.value);this.selectedLI=this.liCollections[this.index]||s,this.selectedLI&&(this.updateSelectedItem(this.selectedLI,null,!0),this.valueTemplate&&null!==this.itemData&&this.setValueTemplate())}this.closePopup();var n=this.getItemData(),o=this.isServerBlazor?!sf.base.isNullOrUndefined(this.value):!sf.base.isNullOrUndefined(this.selectedLI);""===this.inputElement.value.trim()&&!this.isInteracted&&(this.isSelectCustom||o&&this.inputElement.value!==n.text)&&(this.isSelectCustom=!1,this.clearAll(e))},t.prototype.focusIn=function(e){if(this.enabled&&!this.targetElement().classList.contains(o.disable)){var t=!1;this.preventFocus&&sf.base.Browser.isDevice&&(this.inputWrapper.container.tabIndex=1,this.inputWrapper.container.focus(),this.preventFocus=!1,t=!0),t||this.targetElement().focus(),sf.base.addClass([this.inputWrapper.container],[o.inputFocus]),this.onFocus(e)}},t.prototype.focusOut=function(e){this.enabled&&(this.isTyped=!0,this.hidePopup(e),this.targetElement().blur(),sf.base.removeClass([this.inputWrapper.container],[o.inputFocus]))},t.prototype.destroy=function(){if(this.isActive=!1,this.isReact&&this.clearTemplate(),(!this.isServerBlazor||this.popupObj&&document.body.contains(this.popupObj.element))&&this.hidePopup(),this.unWireEvent(),this.list&&(this.unWireListEvents(),this.isServerBlazor&&this.fields.groupBy&&!this.isGroupChecking&&sf.base.EventHandler.remove(this.list,"scroll",this.setFloatingHeader)),!this.isServerBlazor){if(this.element&&!this.element.classList.contains("e-"+this.getModuleName()))return;for(var t=["readonly","aria-disabled","aria-placeholder","placeholder","aria-owns","aria-labelledby","aria-haspopup","aria-expanded","aria-activedescendant","autocomplete","aria-readonly","autocorrect","autocapitalize","spellcheck","aria-autocomplete","aria-live","aria-describedby","aria-label"],i=0;i<t.length;i++)this.inputElement.removeAttribute(t[i]);this.inputElement.setAttribute("tabindex",this.tabIndex),this.inputElement.classList.remove("e-input"),sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,this.showClearButton),this.element.style.display="block",this.inputWrapper.container.parentElement.tagName===this.getNgDirective()||this.inputWrapper.container.parentElement.insertBefore(this.element,this.inputWrapper.container),sf.base.detach(this.inputWrapper.container),e.prototype.destroy.call(this)}},t.prototype.getItems=function(){return this.list||(this.dataSource instanceof sf.data.DataManager&&(this.initRemoteRender=!0),this.renderList()),this.ulElement?e.prototype.getItems.call(this):[]},t.prototype.getDataByValue=function(t){return e.prototype.getDataByValue.call(this,t)},t.prototype.clear=function(){this.value=null},n([sf.base.Property(null)],t.prototype,"cssClass",void 0),n([sf.base.Property("100%")],t.prototype,"width",void 0),n([sf.base.Property("300px")],t.prototype,"popupHeight",void 0),n([sf.base.Property("100%")],t.prototype,"popupWidth",void 0),n([sf.base.Property(null)],t.prototype,"placeholder",void 0),n([sf.base.Property(null)],t.prototype,"filterBarPlaceholder",void 0),n([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),n([sf.base.Property(null)],t.prototype,"query",void 0),n([sf.base.Property(null)],t.prototype,"valueTemplate",void 0),n([sf.base.Property(null)],t.prototype,"headerTemplate",void 0),n([sf.base.Property(null)],t.prototype,"footerTemplate",void 0),n([sf.base.Property(!1)],t.prototype,"allowFiltering",void 0),n([sf.base.Property(!1)],t.prototype,"readonly",void 0),n([sf.base.Property(null)],t.prototype,"text",void 0),n([sf.base.Property(null)],t.prototype,"value",void 0),n([sf.base.Property(null)],t.prototype,"index",void 0),n([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),n([sf.base.Property(!1)],t.prototype,"showClearButton",void 0),n([sf.base.Event()],t.prototype,"filtering",void 0),n([sf.base.Event()],t.prototype,"change",void 0),n([sf.base.Event()],t.prototype,"beforeOpen",void 0),n([sf.base.Event()],t.prototype,"open",void 0),n([sf.base.Event()],t.prototype,"close",void 0),n([sf.base.Event()],t.prototype,"blur",void 0),n([sf.base.Event()],t.prototype,"focus",void 0),t=n([sf.base.NotifyPropertyChanges],t)}(sf.dropdowns.DropDownBase);return e.dropDownListClasses=o,e.DropDownList=a,e}({}))}});