!function(e){var t={};function i(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./bundles/timepicker.js")}({"./bundles/timepicker.js":function(e,t,i){"use strict";i.r(t);i("./modules/timepicker.js");i.p="_content/Syncfusion.Blazor.Calendars/scripts/"},"./modules/timepicker.js":function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sf.calendars=sf.base.extend({},sf.calendars,function(e){"use strict";var t,s=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,i)},function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}),a=function(e,t,s,a){var n,r=arguments.length,l=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,s,l):n(t,s))||l);return r>3&&l&&Object.defineProperty(t,s,l),l},n=(new Date).getDate(),r=(new Date).getMonth(),l=(new Date).getFullYear(),o="e-timepicker",p="e-disabled",h="e-input-focus",u="e-list-item",c=["title","class","style"];(e.TimePickerBase||(e.TimePickerBase={})).createListItems=function(e,t,i,s,a,n){var r,l;this.calendarMode;var o=6e4*n,p=[],h=[];for(r=+t.setMilliseconds(0),l=+i.setMilliseconds(0);l>=r;)h.push(r),p.push(s.formatDate(new Date(r),{format:a,type:"time"})),r+=o;return{collection:h,list:sf.lists.ListBase.createList(e,p,null,!0)}};var d=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.liCollections=[],s.timeCollections=[],s.blazorTimeCollections=[],s.disableItemCollection=[],s.invalidValueString=null,s.isBlazorServer=!1,s.isAngular=!1,s.preventChange=!1,s.timeOptions=t,s}return s(t,e),t.prototype.preRender=function(){this.keyConfigure={enter:"enter",escape:"escape",end:"end",tab:"tab",home:"home",down:"downarrow",up:"uparrow",left:"leftarrow",right:"rightarrow",open:"alt+downarrow",close:"alt+uparrow"},this.cloneElement=this.element.cloneNode(!0),sf.base.removeClass([this.cloneElement],[o,"e-control","e-lib"]),this.inputElement=this.element,this.angularTag=null,this.formElement=sf.base.closest(this.element,"form"),this.isBlazorServer=!(!sf.base.isBlazor()||!this.isServerRendered||"timepicker"!==this.getModuleName()),this.isBlazorServer||("EJS-TIMEPICKER"===this.element.tagName&&(this.angularTag=this.element.tagName,this.inputElement=this.createElement("input"),this.element.appendChild(this.inputElement)),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):"0",this.element.removeAttribute("tabindex"),this.openPopupEventArgs={appendTo:document.body})},t.prototype.render=function(){if(this.isBlazorServer){this.globalize=new sf.base.Internationalization(this.locale),this.defaultCulture=new sf.base.Internationalization("en"),this.checkTimeFormat();var e=this.element.parentElement;this.inputWrapper={container:e,clearButton:e.querySelector(".e-clear-icon"),buttons:[e.querySelector(".e-time-icon")]},sf.inputs.Input.bindInitialEvent({element:this.inputElement,floatLabelType:this.floatLabelType}),this.showClearButton&&this.inputWrapper.clearButton&&sf.inputs.Input.wireClearBtnEvents(this.inputElement,this.inputWrapper.clearButton,this.inputWrapper.container)}else this.initialize(),this.createInputElement(),this.updateHtmlAttributeToWrapper(),this.setTimeAllowEdit(),this.setEnable(),this.validateInterval();this.bindEvents(),this.isBlazorServer||(this.validateDisable(),this.setValue(this.getFormattedValue(this.value))),this.anchor=this.inputElement,this.inputElement.setAttribute("value",this.inputElement.value),this.isBlazorServer||(this.inputEleValue=this.getDateObject(this.inputElement.value)),this.renderComplete()},t.prototype.setTimeAllowEdit=function(){this.allowEdit?this.readonly||this.inputElement.removeAttribute("readonly"):sf.base.attributes(this.inputElement,{readonly:""}),this.clearIconState()},t.prototype.clearIconState=function(){this.allowEdit||!this.inputWrapper||this.readonly?this.inputWrapper&&sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):""===this.inputElement.value?sf.base.removeClass([this.inputWrapper.container],["e-non-edit"]):sf.base.addClass([this.inputWrapper.container],["e-non-edit"])},t.prototype.validateDisable=function(){this.setMinMax(this.initMin,this.initMax),this.popupCreation(),this.popupObj.destroy(),this.popupWrapper=this.popupObj=null,isNaN(+this.value)||null===this.value||this.valueIsDisable(this.value)||(this.strictMode&&this.resetState(),this.initValue=null,this.initMax=this.getDateObject(this.initMax),this.initMin=this.getDateObject(this.initMin),this.timeCollections=this.liCollections=[],this.setMinMax(this.initMin,this.initMax))},t.prototype.validationAttribute=function(e,t){var i=e.getAttribute("name")?e.getAttribute("name"):e.getAttribute("id");t.setAttribute("name",i),e.removeAttribute("name");for(var s=["required","aria-required","form"],a=0;a<s.length;a++)if(!sf.base.isNullOrUndefined(e.getAttribute(s[a]))){var n=e.getAttribute(s[a]);t.setAttribute(s[a],n),e.removeAttribute(s[a])}},t.prototype.initialize=function(){this.globalize=new sf.base.Internationalization(this.locale),this.defaultCulture=new sf.base.Internationalization("en"),this.checkTimeFormat(),this.checkInvalidValue(this.value),this.setProperties({value:this.checkDateValue(new Date(this.checkInValue(this.value)))},!0),this.setProperties({min:this.checkDateValue(new Date(this.checkInValue(this.min)))},!0),this.setProperties({max:this.checkDateValue(new Date(this.checkInValue(this.max)))},!0),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))},!0),null!==this.angularTag&&this.validationAttribute(this.element,this.inputElement),this.updateHtmlAttributeToElement(),this.checkAttributes(!1);var e={placeholder:this.placeholder};this.l10n=new sf.base.L10n("timepicker",e,this.locale),this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.initValue=this.checkDateValue(this.value),this.initMin=this.checkDateValue(this.min),this.initMax=this.checkDateValue(this.max),this.isNavigate=this.isPreventBlur=this.isTextSelected=!1,this.activeIndex=this.valueWithMinutes=this.prevDate=null,sf.base.isNullOrUndefined(this.element.getAttribute("id"))?(this.element.id=sf.base.getUniqueID("ej2_timepicker"),null!==this.angularTag&&sf.base.attributes(this.inputElement,{id:this.element.id+"_input"})):null!==this.angularTag&&(this.inputElement.id=this.element.getAttribute("id")+"_input"),sf.base.isNullOrUndefined(this.inputElement.getAttribute("name"))&&sf.base.attributes(this.inputElement,{name:this.element.id})},t.prototype.checkTimeFormat=function(){if(this.format)if("string"==typeof this.format)this.formatString=this.format;else if(sf.base.isNullOrUndefined(this.format.skeleton)||""===this.format.skeleton)this.formatString=this.globalize.getDatePattern({type:"time",skeleton:"short"});else{var e=this.format.skeleton;this.formatString=this.globalize.getDatePattern({type:"time",skeleton:e})}else this.formatString=null},t.prototype.checkDateValue=function(e){return!sf.base.isNullOrUndefined(e)&&e instanceof Date&&!isNaN(+e)?e:null},t.prototype.createInputElement=function(){var e=this.cssClass;sf.base.isNullOrUndefined(this.cssClass)||""===this.cssClass||(e=this.cssClass.replace(/\s+/g," ").trim()),this.inputWrapper=sf.inputs.Input.createInput({element:this.inputElement,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enabled:this.enabled,enableRtl:this.enableRtl,showClearButton:this.showClearButton},buttons:[" e-input-group-icon e-time-icon e-icons"]},this.createElement),this.inputWrapper.container.style.width=this.setWidth(this.width),sf.base.attributes(this.inputElement,{"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"false","aria-invalid":"false"}),this.isNullOrEmpty(this.inputStyle)||sf.inputs.Input.addAttributes({style:this.inputStyle},this.inputElement),sf.base.addClass([this.inputWrapper.container],"e-time-wrapper")},t.prototype.getCldrDateTimeFormat=function(){var e=new sf.base.Internationalization(this.locale).getDatePattern({skeleton:sf.base.isBlazor()?"d":"yMd"});return this.isNullOrEmpty(this.formatString)?e+" "+this.CldrFormat("time"):this.formatString},t.prototype.checkInvalidValue=function(e){var t=!1;if("object"!==i(e)&&!sf.base.isNullOrUndefined(e)){var s=e;"string"==typeof s&&(s=s.trim());var a,n=null;if("number"==typeof e?s=e.toString():"string"==typeof e&&(/^[a-zA-Z0-9- ]*$/.test(e)||(n=this.setCurrentDate(this.getDateObject(e)),sf.base.isNullOrUndefined(n)&&(n=this.checkDateValue(this.globalize.parseDate(s,{format:this.getCldrDateTimeFormat(),type:"datetime"})),sf.base.isNullOrUndefined(n)&&(n=this.checkDateValue(this.globalize.parseDate(s,{format:this.formatString,type:"dateTime",skeleton:sf.base.isBlazor()?"d":"yMd"})))))),a=this.globalize.parseDate(s,{format:this.getCldrDateTimeFormat(),type:"datetime"}),n=!sf.base.isNullOrUndefined(a)&&a instanceof Date&&!isNaN(+a)?a:null,sf.base.isNullOrUndefined(n)&&s.replace(/\s/g,"").length){var r=null;r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,!/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/.test(s)&&!r.test(s)||/^[a-zA-Z0-9- ]*$/.test(e)||isNaN(+new Date(""+s))?t=!0:n=new Date(""+s)}t?(this.strictMode||(this.invalidValueString=s),this.setProperties({value:null},!0),this.initValue=null):(this.setProperties({value:n},!0),this.initValue=this.value)}},t.prototype.CldrFormat=function(e){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("t"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale)},t.prototype.destroy=function(){if(this.isBlazorServer)this.unBindEvents();else{this.hide(),this.unBindEvents();var t={"aria-haspopup":"true","aria-autocomplete":"list",tabindex:"0","aria-activedescendant":"null","aria-owns":this.element.id+"_options","aria-expanded":"false",role:"combobox",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-disabled":"true","aria-invalid":"false"};this.inputElement&&(sf.inputs.Input.removeAttributes(t,this.inputElement),null===this.angularTag&&this.inputWrapper.container.parentElement.appendChild(this.inputElement),sf.base.isNullOrUndefined(this.cloneElement.getAttribute("tabindex"))?this.inputElement.removeAttribute("tabindex"):this.inputElement.setAttribute("tabindex",this.tabIndex),this.ensureInputAttribute(),this.enableElement([this.inputElement]),this.inputElement.classList.remove("e-input"),sf.base.isNullOrUndefined(this.cloneElement.getAttribute("disabled"))&&sf.inputs.Input.setEnabled(!0,this.inputElement,this.floatLabelType)),this.inputWrapper.container&&sf.base.detach(this.inputWrapper.container),this.inputWrapper=this.popupWrapper=this.cloneElement=void 0,this.liCollections=this.timeCollections=this.disableItemCollection=[],sf.base.isNullOrUndefined(this.rippleFn)||this.rippleFn(),e.prototype.destroy.call(this),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler)}},t.prototype.ensureInputAttribute=function(){for(var e=[],t=0;t<this.inputElement.attributes.length;t++)e[t]=this.inputElement.attributes[t].name;for(t=0;t<e.length;t++)sf.base.isNullOrUndefined(this.cloneElement.getAttribute(e[t]))?(this.inputElement.removeAttribute(e[t]),"value"===e[t].toLowerCase()&&(this.inputElement.value="")):(this.inputElement.setAttribute(e[t],this.cloneElement.getAttribute(e[t])),"value"===e[t].toLowerCase()&&(this.inputElement.value=this.cloneElement.getAttribute(e[t])))},t.prototype.popupCreation=function(){this.isBlazorServer?(this.popupWrapper=this.inputWrapper.container.nextElementSibling,this.generateList()):(this.popupWrapper=this.createElement("div",{className:o+" e-popup",attrs:{id:this.element.id+"_popup",style:"visibility:hidden"}}),sf.base.isNullOrUndefined(this.cssClass)||(this.popupWrapper.className+=" "+this.cssClass),!sf.base.isNullOrUndefined(this.step)&&this.step>0&&(this.generateList(),sf.base.append([this.listWrapper],this.popupWrapper)),this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper)),this.addSelection(),this.renderPopup(),sf.base.detach(this.popupWrapper)},t.prototype.getPopupHeight=function(){var e=parseInt("240px",10),t=this.popupWrapper.getBoundingClientRect().height;return t>e?e:t},t.prototype.generateList=function(){this.isBlazorServer?this.listWrapper=this.popupWrapper.querySelector(".e-content"):this.createListItems(),this.wireListEvents();var e={duration:300,selector:"."+u};if(this.rippleFn=sf.base.rippleEffect(this.listWrapper,e),this.liCollections=this.listWrapper.querySelectorAll("."+u),this.isBlazorServer){this.blazorTimeCollections=[];for(var t=0;t<this.liCollections.length;t++)this.blazorTimeCollections.push(this.liCollections[t].getAttribute("data-value"))}},t.prototype.renderPopup=function(){var e=this;this.containerStyle=this.inputWrapper.container.getBoundingClientRect(),this.popupObj=new sf.popups.Popup(this.popupWrapper,{width:this.setPopupWidth(this.width),zIndex:this.zIndex,targetType:"relative",position:sf.base.Browser.isDevice?{X:"center",Y:"center"}:{X:"left",Y:"bottom"},collision:sf.base.Browser.isDevice?{X:"fit",Y:"fit"}:{X:"flip",Y:"flip"},enableRtl:this.enableRtl,relateTo:sf.base.Browser.isDevice?document.body:this.inputWrapper.container,offsetY:4,open:function(){e.popupWrapper.style.visibility="visible",sf.base.addClass([e.inputWrapper.buttons[0]],"e-active")},close:function(){sf.base.removeClass([e.inputWrapper.buttons[0]],"e-active"),e.unWireListEvents(),e.inputElement.setAttribute("aria-activedescendant","null"),e.isBlazorServer||(sf.base.remove(e.popupObj.element),e.popupObj.destroy(),e.popupWrapper.innerHTML=""),e.listWrapper=e.popupWrapper=e.listTag=void 0},targetExitViewport:function(){sf.base.Browser.isDevice||e.hide()}}),sf.base.Browser.isDevice||(this.popupObj.collision={X:"none",Y:"flip"}),this.popupObj.element.style.maxHeight="240px"},t.prototype.getFormattedValue=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{skeleton:sf.base.isBlazor()?"t":"medium",type:"time"})},t.prototype.getDateObject=function(e){if(!this.isNullOrEmpty(e)){var t=this.createDateObj(e),i=!this.isNullOrEmpty(this.initValue);if(this.checkDateValue(t)){var s=i?this.initValue.getDate():n,a=i?this.initValue.getMonth():r,o=i?this.initValue.getFullYear():l;return new Date(o,a,s,t.getHours(),t.getMinutes(),t.getSeconds())}}return null},t.prototype.updateHtmlAttributeToWrapper=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];if(c.indexOf(i)>-1)if("class"===i){var s=this.htmlAttributes[i].replace(/\s+/g," ").trim();""!==s&&sf.base.addClass([this.inputWrapper.container],s.split(" "))}else if("style"===i){var a=this.inputWrapper.container.getAttribute(i);a=sf.base.isNullOrUndefined(a)?this.htmlAttributes[i]:a+this.htmlAttributes[i],this.inputWrapper.container.setAttribute(i,a)}else this.inputWrapper.container.setAttribute(i,this.htmlAttributes[i])}},t.prototype.updateHtmlAttributeToElement=function(){if(!sf.base.isNullOrUndefined(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var i=t[e];c.indexOf(i)<0&&this.inputElement.setAttribute(i,this.htmlAttributes[i])}},t.prototype.updateCssClass=function(e,t){sf.base.isNullOrUndefined(t)||(t=t.replace(/\s+/g," ").trim()),sf.base.isNullOrUndefined(e)||(e=e.replace(/\s+/g," ").trim()),sf.inputs.Input.setCssClass(e,[this.inputWrapper.container],t),this.popupWrapper&&sf.inputs.Input.setCssClass(e,[this.popupWrapper],t)},t.prototype.removeErrorClass=function(){sf.base.removeClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"false"})},t.prototype.checkErrorState=function(e){var t=this.getDateObject(e);this.validateState(t)&&!this.invalidValueString?this.removeErrorClass():(sf.base.addClass([this.inputWrapper.container],"e-error"),sf.base.attributes(this.inputElement,{"aria-invalid":"true"}))},t.prototype.validateInterval=function(){!sf.base.isNullOrUndefined(this.step)&&this.step>0?this.enableElement([this.inputWrapper.buttons[0]]):this.disableTimeIcon()},t.prototype.disableTimeIcon=function(){this.disableElement([this.inputWrapper.buttons[0]]),this.hide()},t.prototype.disableElement=function(e){sf.base.addClass(e,p)},t.prototype.enableElement=function(e){sf.base.removeClass(e,p)},t.prototype.selectInputText=function(){this.inputElement.setSelectionRange(0,this.inputElement.value.length)},t.prototype.setCursorToEnd=function(){this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length)},t.prototype.getMeridianText=function(){var e;if("en"===this.locale||"en-US"===this.locale)e=sf.base.getValue(sf.base.isBlazor()?"dayPeriods.wide":"dayPeriods.format.wide",sf.base.getDefaultDateObject());else{var t=sf.base.isBlazor()?".dates.dayPeriods.abbreviated":".dates.calendars.gregorian.dayPeriods.format.abbreviated",i=sf.base.isBlazor()?"":"main.";e=sf.base.getValue(i+""+this.locale+t,sf.base.cldrData)}return e},t.prototype.getCursorSelection=function(){var e=this.inputElement,t=0,i=0;return isNaN(e.selectionStart)||(t=e.selectionStart,i=e.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},t.prototype.getActiveElement=function(){return sf.base.isNullOrUndefined(this.popupWrapper)?null:this.popupWrapper.querySelectorAll(".e-active")},t.prototype.isNullOrEmpty=function(e){return!!(sf.base.isNullOrUndefined(e)||"string"==typeof e&&""===e.trim())},t.prototype.setWidth=function(e){return e="number"==typeof e?sf.base.formatUnit(e):"string"==typeof e?e.match(/px|%|em/)?e:sf.base.formatUnit(e):"100%"},t.prototype.setPopupWidth=function(e){(e=this.setWidth(e)).indexOf("%")>-1&&(e=(this.containerStyle.width*parseFloat(e)/100).toString()+"px");return e},t.prototype.setScrollPosition=function(){var e;this.getPopupHeight();e=this.selectedElement,sf.base.isNullOrUndefined(e)?this.popupWrapper&&this.checkDateValue(this.scrollTo)&&this.setScrollTo():this.findScrollTop(e)},t.prototype.findScrollTop=function(e){var t=this.getPopupHeight(),i=e.nextElementSibling,s=i?i.offsetTop:e.offsetTop,a=e.getBoundingClientRect().height;s+e.offsetTop>t?this.popupWrapper.scrollTop=i?s-(t/2+a/2):s:this.popupWrapper.scrollTop=0},t.prototype.setScrollTo=function(){var e;if(sf.base.isNullOrUndefined(this.popupWrapper))this.popupWrapper.scrollTop=0;else{var t=this.popupWrapper.querySelectorAll("."+u);if(t.length){var i=this.isBlazorServer?new Date((new Date).toDateString()+" "+this.blazorTimeCollections[0]).setMilliseconds(0):this.timeCollections[0],s=this.isBlazorServer?new Date((new Date).toDateString()+" "+this.scrollTo.toLocaleTimeString()).setMilliseconds(0):this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();e=t[Math.round((s-i)/(6e4*this.step))]}}sf.base.isNullOrUndefined(e)?this.popupWrapper.scrollTop=0:this.findScrollTop(e)},t.prototype.getText=function(){return sf.base.isNullOrUndefined(this.checkDateValue(this.value))?"":this.getValue(this.value)},t.prototype.getValue=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.cldrDateFormat=function(){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?sf.base.getValue("d",sf.base.getValue(this.locale,sf.base.blazorCultureFormats)):sf.base.getValue("dateFormats.short",sf.base.getDefaultDateObject()):this.getCultureDateObject(sf.base.cldrData,""+this.locale)},t.prototype.getBlazorCultureFormat=function(e){return sf.base.getValue(e,sf.base.getValue(this.locale,sf.base.blazorCultureFormats)).replace(/tt/,"a")},t.prototype.cldrTimeFormat=function(){return this.isNullOrEmpty(this.formatString)?"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("t"):sf.base.getValue("timeFormats.short",sf.base.getDefaultDateObject()):this.getCultureTimeObject(sf.base.cldrData,""+this.locale):this.formatString},t.prototype.dateToNumeric=function(){return"en"===this.locale||"en-US"===this.locale?sf.base.isBlazor()?this.getBlazorCultureFormat("T"):sf.base.getValue("timeFormats.medium",sf.base.getDefaultDateObject()):sf.base.isBlazor()?this.getBlazorCultureFormat("T"):sf.base.getValue("main."+this.locale+".dates.calendars.gregorian.timeFormats.medium",sf.base.cldrData)},t.prototype.getExactDateTime=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.dateToNumeric(),type:"time"})},t.prototype.setValue=function(e){var t=this.checkValue(e);this.strictMode||this.validateState(t)?this.isNullOrEmpty(t)?(this.initValue=null,this.validateMinMax(this.value,this.min,this.max)):this.initValue=this.compareFormatChange(t):(null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.validateMinMax(this.value,this.min,this.max)),this.updateInput(!0,this.initValue)},t.prototype.compareFormatChange=function(e){return sf.base.isNullOrUndefined(e)?null:e!==this.getText()?this.getDateObject(e):this.getDateObject(this.value)},t.prototype.updatePlaceHolder=function(){sf.inputs.Input.setPlaceholder(this.l10n.getConstant("placeholder"),this.inputElement)},t.prototype.updateInputValue=function(e){sf.inputs.Input.setValue(e,this.inputElement,this.floatLabelType,this.showClearButton)},t.prototype.preventEventBubbling=function(e){e.preventDefault(),this.interopAdaptor.invokeMethodAsync("OnTimeIconClick")},t.prototype.updateBlazorTimeCollections=function(e){this.blazorTimeCollections=e},t.prototype.popupHandler=function(e){sf.base.Browser.isDevice&&this.inputElement.setAttribute("readonly",""),this.isBlazorServer||e.preventDefault(),this.isPopupOpen()&&!this.isBlazorServer?this.closePopup(0,e):(this.inputElement.focus(),this.show(e))},t.prototype.mouseDownHandler=function(){if(!this.readonly){this.getCursorSelection();this.inputElement.setSelectionRange(0,0),sf.base.EventHandler.add(this.inputElement,"mouseup",this.mouseUpHandler,this)}},t.prototype.mouseUpHandler=function(e){if(!this.readonly){e.preventDefault(),sf.base.EventHandler.remove(this.inputElement,"mouseup",this.mouseUpHandler);var t=this.getCursorSelection();0===t.start&&t.end===this.inputElement.value.length||(this.inputElement.value.length>0&&(this.cursorDetails=this.focusSelection()),this.inputElement.setSelectionRange(this.cursorDetails.start,this.cursorDetails.end))}},t.prototype.focusSelection=function(){var e=new RegExp("^[a-zA-Z0-9]+$"),t=this.inputElement.value.split("");t.push(" ");var i=this.getCursorSelection(),s=0,a=0,n=!1;if(this.isTextSelected)s=i.start,a=i.end,this.isTextSelected=!1;else for(var r=0;r<t.length;r++)if(e.test(t[r])||(a=r,n=!0),n){if(i.start>=s&&i.end<=a){a=a,this.isTextSelected=!0;break}s=r+1,n=!1}return{start:s,end:a}},t.prototype.inputHandler=function(e){if(!this.readonly&&this.enabled)switch("right"!==e.action&&"left"!==e.action&&"tab"!==e.action&&e.preventDefault(),e.action){case"home":case"end":case"up":case"down":this.keyHandler(e);break;case"enter":this.isNavigate?(this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):(this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),this.updateValue(this.valueWithMinutes,e))):this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnStrictMode",this.inputElement.value):this.updateValue(this.inputElement.value,e),this.hide(),this.isNavigate=!1,this.isPopupOpen()&&e.stopPropagation();break;case"open":this.isBlazorServer?this.interopAdaptor.invokeMethodAsync("OnPopupHide",!0):this.show(e);break;case"escape":this.isBlazorServer||(this.updateInputValue(this.objToString(this.value)),this.previousState(this.value)),this.hide();break;case"close":this.hide();break;default:this.isNavigate=!1}},t.prototype.onMouseClick=function(e){var t=e.target,i=this.selectedElement=sf.base.closest(t,"."+u);this.setSelection(i,e),i&&i.classList.contains(u)&&this.hide()},t.prototype.closePopup=function(e,t){var i=this;if(this.isPopupOpen()&&this.popupWrapper){var s={popup:this.isBlazorServer?null:this.popupObj,event:t||null,cancel:!1,name:"open"};sf.base.removeClass([document.body],"e-time-overflow"),this.trigger("close",s,(function(t){if(!t.cancel){var s={name:"FadeOut",duration:50,delay:e||0};i.popupObj.hide(new sf.base.Animation(s)),sf.base.removeClass([i.inputWrapper.container],["e-icon-anim"]),sf.base.attributes(i.inputElement,{"aria-expanded":"false"}),sf.base.EventHandler.remove(document,"mousedown touchstart",i.documentClickHandler),i.isBlazorServer&&(i.disposeServerPopup(),i.inputWrapper.container.parentElement.insertBefore(i.popupWrapper,i.inputWrapper.container.nextElementSibling),i.interopAdaptor.invokeMethodAsync("OnPopupHide",!1),i.popupWrapper=i.popupObj=null)}sf.base.Browser.isDevice&&i.modal&&(i.modal.style.display="none",i.modal.outerHTML="",i.modal=null),sf.base.Browser.isDevice&&(sf.base.isNullOrUndefined(i.mobileTimePopupWrap)||(i.mobileTimePopupWrap.remove(),i.mobileTimePopupWrap=null)),sf.base.Browser.isDevice&&i.allowEdit&&!i.readonly&&i.inputElement.removeAttribute("readonly")}))}else sf.base.Browser.isDevice&&this.allowEdit&&!this.readonly&&this.inputElement.removeAttribute("readonly")},t.prototype.disposeServerPopup=function(){this.popupWrapper&&(this.popupWrapper.style.visibility="hidden",this.popupWrapper.style.top="-9999px",this.popupWrapper.style.left="-9999px",this.popupWrapper.style.width="0px",this.popupWrapper.style.height="0px")},t.prototype.checkValueChange=function(e,t){if(this.strictMode||this.validateState(this.valueWithMinutes))if(t){var i=this.getDateObject(new Date(this.timeCollections[this.activeIndex]));+this.prevDate!=+i&&this.valueProcess(e,i)}else(this.prevValue!==this.inputElement.value||sf.base.isNullOrUndefined(this.checkDateValue(this.value)))&&this.valueProcess(e,this.compareFormatChange(this.inputElement.value));else null===this.checkDateValue(this.valueWithMinutes)&&(this.initValue=this.valueWithMinutes=null),this.setProperties({value:this.compareFormatChange(this.inputElement.value)},!0),this.initValue=this.valueWithMinutes=this.compareFormatChange(this.inputElement.value),this.prevValue=this.inputElement.value,+this.prevDate!=+this.value&&this.changeEvent(e)},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,"."+u);this.setHover(t,"e-hover")},t.prototype.setHover=function(e,t){this.enabled&&this.isValidLI(e)&&!e.classList.contains(t)&&(this.removeHover(t),sf.base.addClass([e],t),"e-navigation"===t&&e.setAttribute("aria-selected","true"))},t.prototype.setSelection=function(e,t){this.isValidLI(e)&&!e.classList.contains("e-active")&&(this.isBlazorServer?(this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.inputElement.setAttribute("value",e.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!1),this.addSelection()):(this.checkValue(e.getAttribute("data-value")),this.selectedElement=e,this.activeIndex=Array.prototype.slice.call(this.liCollections).indexOf(e),this.valueWithMinutes=new Date(this.timeCollections[this.activeIndex]),sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"),this.checkValueChange(t,!0)))},t.prototype.onMouseLeave=function(){this.removeHover("e-hover")},t.prototype.scrollHandler=function(){"timepicker"===this.getModuleName()&&sf.base.Browser.isDevice||this.hide()},t.prototype.setMinMax=function(e,t){sf.base.isNullOrUndefined(this.checkDateValue(e))&&(this.initMin=this.getDateObject("12:00:00 AM")),sf.base.isNullOrUndefined(this.checkDateValue(t))&&(this.initMax=this.getDateObject("11:59:59 PM"))},t.prototype.validateMinMax=function(e,t,i){var s=e instanceof Date?e:this.getDateObject(e);return sf.base.isNullOrUndefined(this.checkDateValue(s))?+this.createDateObj(this.getFormattedValue(this.initMin))>+this.createDateObj(this.getFormattedValue(this.initMax))&&this.disableTimeIcon():e=this.strictOperation(this.initMin,this.initMax,e,s),this.strictMode&&(e=this.valueIsDisable(e)?e:null),this.checkErrorState(e),e},t.prototype.valueIsDisable=function(e){if(this.disableItemCollection.length>0){if(this.disableItemCollection.length===this.timeCollections.length)return!1;for(var t=e instanceof Date?this.objToString(e):e,i=0;i<this.disableItemCollection.length;i++)if(t===this.disableItemCollection[i])return!1}return!0},t.prototype.validateState=function(e){if(!this.strictMode){if(!this.valueIsDisable(e))return!1;var t=this.setCurrentDate(this.getDateObject(e)),i=this.setCurrentDate(this.getDateObject(this.initMax)),s=this.setCurrentDate(this.getDateObject(this.initMin));if(sf.base.isNullOrUndefined(this.checkDateValue(t))){if(+i<+s||""!==this.inputElement.value)return!1}else if(+t>+i||+t<+s)return!1}return!0},t.prototype.strictOperation=function(e,t,i,s){var a=this.createDateObj(this.getFormattedValue(t)),n=this.createDateObj(this.getFormattedValue(e)),r=this.createDateObj(this.getFormattedValue(s));if(this.strictMode){if(+n>+a)return this.disableTimeIcon(),this.initValue=this.getDateObject(a),this.updateInputValue(this.getValue(this.initValue)),this.inputElement.value;if(+n>=+r)return this.getDateObject(n);if(+r>=+a||+n==+a)return this.getDateObject(a)}else if(+n>+a&&(this.disableTimeIcon(),!isNaN(+this.createDateObj(i))))return i;return i},t.prototype.bindEvents=function(){sf.base.EventHandler.add(this.inputWrapper.buttons[0],"mousedown",this.isBlazorServer?this.preventEventBubbling:this.popupHandler,this),sf.base.EventHandler.add(this.inputElement,"blur",this.inputBlurHandler,this),sf.base.EventHandler.add(this.inputElement,"focus",this.inputFocusHandler,this),sf.base.EventHandler.add(this.inputElement,"change",this.inputChangeHandler,this),this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this),this.formElement&&sf.base.EventHandler.add(this.formElement,"reset",this.formResetHandler,this),sf.base.Browser.isDevice||(this.keyConfigure=sf.base.extend(this.keyConfigure,this.keyConfigs),this.inputEvent=new sf.base.KeyboardEvents(this.inputWrapper.container,{keyAction:this.inputHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.showClearButton&&this.inputElement&&sf.base.EventHandler.add(this.inputElement,"mousedown",this.mouseDownHandler,this))},t.prototype.formResetHandler=function(){if(!this.inputElement.disabled){var e=this.inputElement.getAttribute("value"),t=this.isBlazorServer?this.inputEleValue:this.checkDateValue(this.inputEleValue);"EJS-TIMEPICKER"===this.element.tagName&&(t=null,e="",this.inputElement.setAttribute("value","")),this.isBlazorServer||(this.setProperties({value:t},!0),this.prevDate=this.value,this.valueWithMinutes=this.value,this.initValue=this.value),this.inputElement&&(this.updateInputValue(e),this.isBlazorServer||this.checkErrorState(e),this.prevValue=this.inputElement.value)}},t.prototype.inputChangeHandler=function(e){e.stopPropagation()},t.prototype.unBindEvents=function(){this.inputWrapper&&sf.base.EventHandler.remove(this.inputWrapper.buttons[0],"mousedown touchstart",this.isBlazorServer?this.preventEventBubbling:this.popupHandler),sf.base.EventHandler.remove(this.inputElement,"blur",this.inputBlurHandler),sf.base.EventHandler.remove(this.inputElement,"focus",this.inputFocusHandler),sf.base.EventHandler.remove(this.inputElement,"change",this.inputChangeHandler),this.inputEvent&&this.inputEvent.destroy(),sf.base.EventHandler.remove(this.inputElement,"mousedown touchstart",this.mouseDownHandler),this.showClearButton&&!sf.base.isNullOrUndefined(this.inputWrapper.clearButton)&&sf.base.EventHandler.remove(this.inputWrapper.clearButton,"mousedown touchstart",this.clearHandler),this.formElement&&sf.base.EventHandler.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.bindClearEvent=function(){this.showClearButton&&this.inputWrapper.clearButton&&sf.base.EventHandler.add(this.inputWrapper.clearButton,"mousedown",this.clearHandler,this)},t.prototype.raiseClearedEvent=function(e){var t={event:e};this.trigger("cleared",t)},t.prototype.clearHandler=function(e){e.preventDefault(),sf.base.isNullOrUndefined(this.value)?(this.resetState(),this.raiseClearedEvent(e)):this.clear(e),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnValueCleared"),this.popupWrapper&&(this.popupWrapper.scrollTop=0)},t.prototype.clear=function(e){this.isBlazorServer||this.setProperties({value:null},!0),this.initValue=null,this.resetState(),this.raiseClearedEvent(e),this.isBlazorServer||this.changeEvent(e)},t.prototype.setZIndex=function(){this.popupObj&&(this.popupObj.zIndex=this.zIndex,this.popupObj.dataBind())},t.prototype.checkAttributes=function(e){for(var t,i=0,s=e?sf.base.isNullOrUndefined(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["step","disabled","readonly","style","name","value","min","max","placeholder"];i<s.length;i++){var a=s[i];if(!sf.base.isNullOrUndefined(this.inputElement.getAttribute(a)))switch(a){case"disabled":if(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.enabled||e){var n="disabled"!==this.inputElement.getAttribute(a)&&""!==this.inputElement.getAttribute(a)&&"true"!==this.inputElement.getAttribute(a);this.setProperties({enabled:n},!e)}break;case"style":this.inputStyle=this.inputElement.getAttribute(a);break;case"readonly":if(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.readonly||e){var r="readonly"===this.inputElement.getAttribute(a)||""===this.inputElement.getAttribute(a)||"true"===this.inputElement.getAttribute(a);this.setProperties({readonly:r},!e)}break;case"name":this.inputElement.setAttribute("name",this.inputElement.getAttribute(a));break;case"step":this.step=parseInt(this.inputElement.getAttribute(a),10);break;case"placeholder":(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.placeholder||e)&&this.setProperties({placeholder:this.inputElement.getAttribute(a)},!e);break;case"min":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.min||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({min:t},!e));break;case"max":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.max||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||this.setProperties({max:t},!e));break;case"value":this.isBlazorServer||(sf.base.isNullOrUndefined(this.timeOptions)||void 0===this.timeOptions.value||e)&&(t=new Date(this.inputElement.getAttribute(a)),sf.base.isNullOrUndefined(this.checkDateValue(t))||(this.initValue=t,this.updateInput(!1,this.initValue),this.setProperties({value:t},!e)))}}},t.prototype.setCurrentDate=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:new Date(l,r,n,e.getHours(),e.getMinutes(),e.getSeconds())},t.prototype.getTextFormat=function(){var e=0;if("a"===this.cldrTimeFormat().split(" ")[0]||0===this.cldrTimeFormat().indexOf("a"))e=1;else if(this.cldrTimeFormat().indexOf("a")<0)for(var t=this.cldrTimeFormat().split(" "),i=0;i<t.length;i++)if(t[i].toLowerCase().indexOf("h")>=0){e=i;break}return e},t.prototype.updateValue=function(e,t){var i;if(this.isNullOrEmpty(e))this.resetState();else if(i=this.checkValue(e),this.strictMode){var s=null===i&&e.trim().length>0?this.previousState(this.prevDate):this.inputElement.value;this.updateInputValue(s)}this.checkValueChange(t,"string"!=typeof e)},t.prototype.previousState=function(e){for(var t=this.getDateObject(e),i=0;i<this.timeCollections.length;i++)if(+t===this.timeCollections[i]){this.activeIndex=i,this.selectedElement=this.liCollections[i],this.valueWithMinutes=new Date(this.timeCollections[i]);break}return this.prevValue},t.prototype.resetState=function(){this.removeSelection(),sf.inputs.Input.setValue("",this.inputElement,this.floatLabelType,!1),this.valueWithMinutes=this.activeIndex=null,this.strictMode||this.isBlazorServer||this.checkErrorState(null)},t.prototype.objToString=function(e){return sf.base.isNullOrUndefined(this.checkDateValue(e))?null:this.globalize.formatDate(e,{format:this.cldrTimeFormat(),type:"time"})},t.prototype.checkValue=function(e){if(!this.isNullOrEmpty(e)){var t=e instanceof Date?e:this.getDateObject(e);return this.validateValue(t,e)}return this.resetState(),this.valueWithMinutes=null},t.prototype.validateValue=function(e,t){var i,s=this.validateMinMax(t,this.min,this.max),a=this.createDateObj(s);if(this.getFormattedValue(a)!==this.getFormattedValue(this.value)?(this.valueWithMinutes=sf.base.isNullOrUndefined(a)?null:a,i=this.objToString(this.valueWithMinutes)):(this.strictMode&&(e=a),this.valueWithMinutes=this.checkDateValue(e),i=this.objToString(this.valueWithMinutes)),!this.strictMode&&sf.base.isNullOrUndefined(i)){var n=s.trim().length>0?s:"";this.updateInputValue(n)}else this.updateInputValue(i);return i},t.prototype.findNextElement=function(e){var t=this.inputElement.value,i=sf.base.isNullOrUndefined(this.valueWithMinutes)||this.isBlazorServer?this.createDateObj(t):this.getDateObject(this.valueWithMinutes),s=null,a=this.liCollections.length,n=this.isBlazorServer?sf.base.isNullOrUndefined(this.blazorTimeCollections)?[]:this.blazorTimeCollections:this.timeCollections;if(sf.base.isNullOrUndefined(this.checkDateValue(i))&&sf.base.isNullOrUndefined(this.activeIndex))this.selectNextItem(e);else{if("home"===e.action){var r=this.validLiElement(0);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r}else if("end"===e.action){r=this.validLiElement(n.length-1,!0);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r}else if("down"===e.action)for(var l=0;l<a;l++){if(this.isBlazorServer?+i<+this.createDateObj(this.blazorTimeCollections[l]):+i<this.timeCollections[l]){r=this.validLiElement(l);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}if(l===a-1){r=this.validLiElement(0);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}}else for(l=a-1;l>=0;l--){if(this.isBlazorServer?+i>+this.createDateObj(this.blazorTimeCollections[l]):+i>this.timeCollections[l]){r=this.validLiElement(l,!0);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}if(0===l){r=this.validLiElement(a-1);this.isBlazorServer||(s=+this.createDateObj(new Date(this.timeCollections[r]))),this.activeIndex=r;break}}this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):this.elementValue(sf.base.isNullOrUndefined(s)?null:new Date(s))}},t.prototype.selectNextItem=function(e){var t=this.validLiElement(0,"down"!==e.action);this.activeIndex=t,this.selectedElement=this.liCollections[t],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",t,!0)):this.elementValue(new Date(this.timeCollections[t]))},t.prototype.findNextInBlazor=function(e){var t=sf.base.isNullOrUndefined(this.blazorTimeCollections)?0:this.blazorTimeCollections.length,i=0,s=this.createDateObj(this.inputElement.value);switch(e.action){case"home":this.activeIndex=i;break;case"end":i=t-1,this.activeIndex=i;break;case"down":for(var a=0;a<t;a++){if(this.isBlazorServer?+s<+this.createDateObj(this.blazorTimeCollections[a]):+s<this.timeCollections[a]){var n=this.validLiElement(a);this.activeIndex=n;break}if(a===t-1){var r=this.validLiElement(0);this.activeIndex=r;break}}break;case"up":for(a=t-1;a>=0;a--){if(this.isBlazorServer?+s>+this.createDateObj(this.blazorTimeCollections[a]):+s>this.timeCollections[a]){var l=this.validLiElement(a,!0);this.activeIndex=l;break}if(0===a){var o=this.validLiElement(t-1);this.activeIndex=o;break}}}this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)},t.prototype.elementValue=function(e){sf.base.isNullOrUndefined(this.checkDateValue(e))||this.checkValue(e)},t.prototype.validLiElement=function(e,t){var i=null;if(this.isBlazorServer&&sf.base.isNullOrUndefined(this.popupWrapper)){if((a=this.blazorTimeCollections).length)if(t)for(var s=e;s>=0;s--){i=s;break}else for(s=e;s<=a.length-1;s++){i=s;break}}else{var a,n=!0;if((a=sf.base.isNullOrUndefined(this.popupWrapper)?this.liCollections:this.popupWrapper.querySelectorAll("."+u)).length)if(t)for(s=e;s>=0;s--){if(!a[s].classList.contains(p)){i=s;break}0===s&&n&&(e=s=a.length,n=!1)}else for(s=e;s<=a.length-1;s++){if(!a[s].classList.contains(p)){i=s;break}s===a.length-1&&n&&(e=s=-1,n=!1)}}return i},t.prototype.keyHandler=function(e){if(!(sf.base.isNullOrUndefined(this.step)||this.step<=0||this.inputWrapper.buttons[0].classList.contains(p))){var t=this.isBlazorServer?sf.base.isNullOrUndefined(this.blazorTimeCollections)?0:this.blazorTimeCollections.length:this.timeCollections.length;if(sf.base.isNullOrUndefined(this.getActiveElement())||0===this.getActiveElement().length)if(sf.base.isNullOrUndefined(this.popupObj)&&this.isBlazorServer)if(sf.base.isNullOrUndefined(this.activeIndex)){var i=this.validLiElement(0,"down"!==e.action);this.activeIndex=i,this.interopAdaptor.invokeMethodAsync("OnListItemClick",i,!0)}else this.findNextInBlazor(e);else this.liCollections.length>0&&(this.isBlazorServer||sf.base.isNullOrUndefined(this.value))&&sf.base.isNullOrUndefined(this.activeIndex)?this.selectNextItem(e):this.findNextElement(e);else{var s=void 0;if(e.keyCode>=37&&e.keyCode<=40){i=40===e.keyCode||39===e.keyCode?++this.activeIndex:--this.activeIndex;this.activeIndex=i=this.activeIndex===t?0:this.activeIndex,this.activeIndex=i=this.activeIndex<0?t-1:this.activeIndex,this.activeIndex=i=this.validLiElement(this.activeIndex,40!==e.keyCode&&39!==e.keyCode),this.isBlazorServer||(s=sf.base.isNullOrUndefined(this.timeCollections[i])?this.timeCollections[0]:this.timeCollections[i])}else if("home"===e.action){i=this.validLiElement(0);this.activeIndex=i,this.isBlazorServer||(s=this.timeCollections[i])}else if("end"===e.action){i=this.validLiElement(t-1,!0);this.activeIndex=i,this.isBlazorServer||(s=this.timeCollections[i])}this.selectedElement=this.liCollections[this.activeIndex],this.isBlazorServer?(this.inputElement.setAttribute("value",this.selectedElement.getAttribute("data-value")),this.interopAdaptor.invokeMethodAsync("OnListItemClick",this.activeIndex,!0)):this.elementValue(new Date(s))}this.isNavigate=!0,this.setHover(this.selectedElement,"e-navigation"),this.setActiveDescendant(),this.isBlazorServer||this.selectInputText(),!this.isPopupOpen()||null===this.selectedElement||e&&"click"===e.type||this.setScrollPosition()}},t.prototype.getCultureTimeObject=function(e,t){return sf.base.isBlazor()?sf.base.getValue("t",sf.base.getValue(t,sf.base.blazorCultureFormats)).replace(/tt/,"a"):sf.base.getValue("main."+t+".dates.calendars.gregorian.timeFormats.short",e)},t.prototype.getCultureDateObject=function(e,t){return sf.base.isBlazor()?sf.base.getValue("d",sf.base.getValue(t,sf.base.blazorCultureFormats)):sf.base.getValue("main."+t+".dates.calendars.gregorian.dateFormats.short",e)},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.listWrapper,"click",this.onMouseClick,this),sf.base.Browser.isDevice||(sf.base.EventHandler.add(this.listWrapper,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.listWrapper,"mouseout",this.onMouseLeave,this))},t.prototype.unWireListEvents=function(){this.listWrapper&&(sf.base.EventHandler.remove(this.listWrapper,"click",this.onMouseClick),sf.base.Browser.isDevice||(sf.base.EventHandler.remove(this.listWrapper,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.listWrapper,"mouseout",this.onMouseLeave)))},t.prototype.valueProcess=function(e,t){var i=sf.base.isNullOrUndefined(this.checkDateValue(t))?null:t;+this.prevDate!=+i&&(this.initValue=i,this.changeEvent(e))},t.prototype.changeEvent=function(e){this.addSelection(),this.updateInput(!0,this.initValue);var t={event:e||null,value:this.value,text:this.inputElement.value,isInteracted:!sf.base.isNullOrUndefined(e),element:this.element};t.value=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.prevDate=this.valueWithMinutes||this.getDateObject(this.inputElement.value),this.isAngular&&this.preventChange?this.preventChange=!1:this.trigger("change",t),this.invalidValueString=null,this.checkErrorState(this.value)},t.prototype.updateInput=function(e,t){e&&(this.prevValue=this.getValue(t)),this.prevDate=this.valueWithMinutes=t,"number"==typeof t&&(this.value&&+new Date(+this.value).setMilliseconds(0))===+t||this.setProperties({value:t},!0),!this.strictMode&&sf.base.isNullOrUndefined(this.value)&&this.invalidValueString&&(this.checkErrorState(this.invalidValueString),this.updateInputValue(this.invalidValueString)),this.clearIconState()},t.prototype.setActiveDescendant=function(){sf.base.isNullOrUndefined(this.selectedElement)?sf.base.attributes(this.inputElement,{"aria-activedescendant":"null"}):sf.base.attributes(this.inputElement,{"aria-activedescendant":this.selectedElement.getAttribute("id")})},t.prototype.removeSelection=function(){if(this.removeHover("e-hover"),!sf.base.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll(".e-active");e.length&&(sf.base.removeClass(e,"e-active"),e[0].removeAttribute("aria-selected"))}},t.prototype.removeHover=function(e){var t=this.getHoverItem(e);t&&t.length&&(sf.base.removeClass(t,e),"e-navigation"===e&&t[0].removeAttribute("aria-selected"))},t.prototype.getHoverItem=function(e){var t;return sf.base.isNullOrUndefined(this.popupWrapper)||(t=this.popupWrapper.querySelectorAll("."+e)),t},t.prototype.setActiveClass=function(){if(!sf.base.isNullOrUndefined(this.popupWrapper)){var e=this.popupWrapper.querySelectorAll("."+u);if(e.length)for(var t=0;t<e.length;t++)if(!this.isBlazorServer&&this.timeCollections[t]===+this.getDateObject(this.valueWithMinutes)||this.isBlazorServer&&this.blazorTimeCollections[t]===this.blazorTimeCollections[this.activeIndex]){e[t].setAttribute("aria-selected","true"),this.selectedElement=e[t],this.activeIndex=t;break}}},t.prototype.addSelection=function(){this.selectedElement=null,this.removeSelection(),this.setActiveClass(),sf.base.isNullOrUndefined(this.selectedElement)||(sf.base.addClass([this.selectedElement],"e-active"),this.selectedElement.setAttribute("aria-selected","true"))},t.prototype.isValidLI=function(e){return e&&e.classList.contains(u)&&!e.classList.contains(p)},t.prototype.createDateObj=function(e){var t=sf.base.isBlazor()?"M"+sf.base.getDefaultDateObject().dateSeperator+"d"+sf.base.getDefaultDateObject().dateSeperator+"yy":null,i=this.globalize.formatDate(new Date,{format:t,skeleton:"short",type:"date"}),s=null;return"string"==typeof e?e.toUpperCase().indexOf("AM")>-1||e.toUpperCase().indexOf("PM")>-1?(i=this.defaultCulture.formatDate(new Date,{format:t,skeleton:"short",type:"date"}),s=isNaN(+new Date(i+" "+e))?null:new Date(new Date(i+" "+e).setMilliseconds(0)),sf.base.isNullOrUndefined(s)&&(s=this.TimeParse(i,e))):s=this.TimeParse(i,e):e instanceof Date&&(s=e),s},t.prototype.TimeParse=function(e,t){var i;return i=this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.cldrTimeFormat(),type:"datetime"}),i=sf.base.isNullOrUndefined(i)?this.globalize.parseDate(e+" "+t,{format:this.cldrDateFormat()+" "+this.dateToNumeric(),type:"datetime"}):i,i=sf.base.isNullOrUndefined(i)?i:new Date(i.setMilliseconds(0))},t.prototype.createListItems=function(){var e,t,i=this;this.listWrapper=this.createElement("div",{className:"e-content",attrs:{tabindex:"0"}});var s=6e4*this.step,a=[];for(this.timeCollections=[],this.disableItemCollection=[],e=+this.getDateObject(this.initMin).setMilliseconds(0),t=+this.getDateObject(this.initMax).setMilliseconds(0);t>=e;)this.timeCollections.push(e),a.push(this.globalize.formatDate(new Date(e),{format:this.cldrTimeFormat(),type:"time"})),e+=s;var n={itemCreated:function(e){var t={element:e.item,text:e.text,value:i.getDateObject(e.text),isDisabled:!1};i.trigger("itemRender",t,(function(e){e.isDisabled&&e.element.classList.add(p),e.element.classList.contains(p)&&i.disableItemCollection.push(e.element.getAttribute("data-value"))}))}};this.listTag=sf.lists.ListBase.createList(this.createElement,a,n,!0),sf.base.attributes(this.listTag,{role:"listbox","aria-hidden":"false",id:this.element.id+"_options"}),sf.base.append([this.listTag],this.listWrapper)},t.prototype.documentClickHandler=function(e){var t=e.target;!sf.base.isNullOrUndefined(this.popupObj)&&(this.inputWrapper.container.contains(t)||this.popupObj.element&&this.popupObj.element.contains(t))&&"touchstart"!==e.type&&e.preventDefault(),sf.base.closest(t,'[id="'+this.popupObj.element.id+'"]')||t===this.inputElement||t===(this.inputWrapper&&this.inputWrapper.buttons[0])||t===(this.inputWrapper&&this.inputWrapper.clearButton)||t===(this.inputWrapper&&this.inputWrapper.container)?t!==this.inputElement&&(sf.base.Browser.isDevice||(this.isPreventBlur=(sf.base.Browser.isIE||"edge"===sf.base.Browser.info.name)&&document.activeElement===this.inputElement&&t===this.popupWrapper)):this.isPopupOpen()&&(this.hide(),this.focusOut())},t.prototype.setEnableRtl=function(){sf.inputs.Input.setEnableRtl(this.enableRtl,[this.inputWrapper.container]),this.popupObj&&(this.popupObj.enableRtl=this.enableRtl,this.popupObj.dataBind())},t.prototype.setEnable=function(){sf.inputs.Input.setEnabled(this.enabled,this.inputElement,this.floatLabelType),this.enabled?(sf.base.removeClass([this.inputWrapper.container],p),sf.base.attributes(this.inputElement,{"aria-disabled":"false"}),this.inputElement.setAttribute("tabindex",this.tabIndex)):(this.hide(),sf.base.addClass([this.inputWrapper.container],p),sf.base.attributes(this.inputElement,{"aria-disabled":"true"}),this.inputElement.tabIndex=-1)},t.prototype.getProperty=function(e,t){"min"===t?(this.initMin=this.checkDateValue(new Date(this.checkInValue(e.min))),this.setProperties({min:this.initMin},!0)):(this.initMax=this.checkDateValue(new Date(this.checkInValue(e.max))),this.setProperties({max:this.initMax},!0)),""===this.inputElement.value?this.validateMinMax(this.value,this.min,this.max):this.checkValue(this.inputElement.value),this.checkValueChange(null,!1)},t.prototype.inputBlurHandler=function(e){if(this.isPreventBlur&&this.isPopupOpen())this.inputElement.focus();else{this.closePopup(0,e),sf.base.removeClass([this.inputWrapper.container],[h]);var t={model:this.isBlazorServer?null:this};this.trigger("blur",t),this.isBlazorServer||this.getText()===this.inputElement.value?0===this.inputElement.value.trim().length&&this.resetState():this.updateValue(this.inputElement.value,e),this.isBlazorServer&&this.interopAdaptor.invokeMethodAsync("OnStrictMode",this.inputElement.value),this.cursorDetails=null,this.isNavigate=!1,""===this.inputElement.value&&(this.invalidValueString=null)}},t.prototype.focusOut=function(){if(document.activeElement===this.inputElement){this.inputElement.blur(),sf.base.removeClass([this.inputWrapper.container],[h]);var e={model:this.isBlazorServer?null:this};this.trigger("blur",e)}},t.prototype.isPopupOpen=function(){return!(!this.popupWrapper||!this.popupWrapper.classList.contains(""+o))},t.prototype.inputFocusHandler=function(){var e={model:this.isBlazorServer?null:this};this.readonly||sf.base.Browser.isDevice||this.selectInputText(),this.trigger("focus",e),this.clearIconState(),this.openOnFocus&&this.show()},t.prototype.focusIn=function(){document.activeElement!==this.inputElement&&this.enabled&&this.inputElement.focus()},t.prototype.hide=function(){this.closePopup(100,null),this.clearIconState()},t.prototype.show=function(e){var t=this;if(!(this.enabled&&this.readonly||!this.enabled||this.popupWrapper)){this.popupCreation(),sf.base.Browser.isDevice&&this.listWrapper&&(this.modal=this.createElement("div"),this.modal.className=o+" e-time-modal",document.body.className+=" e-time-overflow",document.body.appendChild(this.modal)),sf.base.Browser.isDevice&&(this.mobileTimePopupWrap=this.createElement("div",{className:"e-timepicker-mob-popup-wrap"}),document.body.appendChild(this.mobileTimePopupWrap)),this.openPopupEventArgs={popup:this.isBlazorServer?null:this.popupObj||null,cancel:!1,event:e||null,name:"open",appendTo:sf.base.Browser.isDevice?this.mobileTimePopupWrap:document.body};var i=this.openPopupEventArgs;this.trigger("open",i,(function(e){if(sf.base.isBlazor()&&t.isServerRendered&&(e.popup=t.popupObj||null),t.openPopupEventArgs=e,t.openPopupEventArgs.cancel||t.inputWrapper.buttons[0].classList.contains(p))t.popupObj.destroy(),t.isBlazorServer&&(t.disposeServerPopup(),t.inputWrapper.container.parentElement.insertBefore(t.popupWrapper,t.inputWrapper.container.nextElementSibling),t.interopAdaptor.invokeMethodAsync("OnPopupHide",!1)),t.popupWrapper=t.listTag=void 0,t.liCollections=t.timeCollections=t.disableItemCollection=[],t.popupObj=null;else{t.isBlazorServer&&(t.popupWrapper.style.visibility="",t.popupWrapper.style.width=t.inputWrapper.container.offsetWidth+"px",t.popupWrapper.style.height="auto"),t.isBlazorServer&&(t.openPopupEventArgs.popup=t.popupObj),t.openPopupEventArgs.appendTo.appendChild(t.popupWrapper),t.popupAlignment(t.openPopupEventArgs),t.setScrollPosition(),sf.base.Browser.isDevice||t.inputElement.focus();var i={name:"FadeIn",duration:50};t.popupObj.refreshPosition(t.anchor),1e3===t.zIndex?t.popupObj.show(new sf.base.Animation(i),t.element):t.popupObj.show(new sf.base.Animation(i),null),t.setActiveDescendant(),sf.base.attributes(t.inputElement,{"aria-expanded":"true"}),sf.base.addClass([t.inputWrapper.container],h),sf.base.EventHandler.add(document,"mousedown touchstart",t.documentClickHandler,t),t.setOverlayIndex(t.mobileTimePopupWrap,t.popupObj.element,t.modal,sf.base.Browser.isDevice)}}))}},t.prototype.setOverlayIndex=function(e,t,i,s){if(s&&!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(i)&&!sf.base.isNullOrUndefined(e)){var a=parseInt(t.style.zIndex,10)?parseInt(t.style.zIndex,10):1e3;i.style.zIndex=(a-1).toString(),e.style.zIndex=a.toString()}},t.prototype.formatValues=function(e){var t;return"number"==typeof e?t=sf.base.formatUnit(e):"string"==typeof e&&(t=e.match(/px|%|em/)||isNaN(parseInt(e,10))?e:sf.base.formatUnit(e)),t},t.prototype.popupAlignment=function(e){if(e.popup.position.X=this.formatValues(e.popup.position.X),e.popup.position.Y=this.formatValues(e.popup.position.Y),isNaN(parseFloat(e.popup.position.X))&&isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.targetType="container"),isNaN(parseFloat(e.popup.position.X))||(this.popupObj.offsetX=parseFloat(e.popup.position.X)),isNaN(parseFloat(e.popup.position.Y))||(this.popupObj.offsetY=parseFloat(e.popup.position.Y)),sf.base.Browser.isDevice)"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.anchor=document.body,this.popupObj.offsetY=0,this.popupObj.targetType="container",this.popupObj.collision={X:"fit",Y:"fit"});else{switch(e.popup.position.X){case"left":break;case"right":e.popup.offsetX=this.containerStyle.width;break;case"center":e.popup.offsetX=-this.containerStyle.width/2}switch(e.popup.position.Y){case"top":case"bottom":break;case"center":e.popup.offsetY=-this.containerStyle.height/2}"center"===e.popup.position.X&&"center"===e.popup.position.Y&&(this.popupObj.relateTo=this.inputWrapper.container,this.anchor=this.inputElement,this.popupObj.targetType="relative")}},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.getModuleName=function(){return"timepicker"},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var a=s[i];switch(a){case"placeholder":sf.inputs.Input.setPlaceholder(e.placeholder,this.inputElement),this.inputElement.setAttribute("aria-placeholder",e.placeholder);break;case"readonly":sf.inputs.Input.setReadonly(this.readonly,this.inputElement,this.floatLabelType),this.readonly&&this.hide(),this.setTimeAllowEdit();break;case"enabled":this.setProperties({enabled:e.enabled},!0),this.setEnable();break;case"allowEdit":this.setTimeAllowEdit();break;case"enableRtl":this.isBlazorServer||(this.setProperties({enableRtl:e.enableRtl},!0),this.setEnableRtl());break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"zIndex":this.setProperties({zIndex:e.zIndex},!0),this.setZIndex();break;case"htmlAttributes":this.updateHtmlAttributeToElement(),this.updateHtmlAttributeToWrapper(),this.checkAttributes(!0);break;case"min":case"max":this.isBlazorServer||this.getProperty(e,a);break;case"showClearButton":sf.inputs.Input.setClearButton(this.showClearButton,this.inputElement,this.inputWrapper),this.bindClearEvent();break;case"locale":this.setProperties({locale:e.locale},!0),this.globalize=new sf.base.Internationalization(this.locale),this.l10n.setLocale(this.locale),this.updatePlaceHolder(),this.isBlazorServer||this.setValue(this.value);break;case"width":sf.base.setStyleAttribute(this.inputWrapper.container,{width:this.setWidth(e.width)}),this.containerStyle=this.inputWrapper.container.getBoundingClientRect();break;case"format":this.setProperties({format:e.format},!0),this.checkTimeFormat(),this.isBlazorServer||this.setValue(this.value);break;case"value":this.isBlazorServer||(this.invalidValueString=null,this.checkInvalidValue(e.value),e.value=this.value,this.invalidValueString?(this.updateInputValue(this.invalidValueString),this.checkErrorState(this.invalidValueString)):("string"==typeof e.value?(this.setProperties({value:this.checkDateValue(new Date(e.value))},!0),e.value=this.value):(e.value&&+new Date(+e.value).setMilliseconds(0))!==+this.value&&(e.value=this.checkDateValue(new Date(""+e.value))),this.initValue=e.value,e.value=this.compareFormatChange(this.checkValue(e.value))),this.checkValueChange(null,!1),this.isAngular&&this.preventChange&&(this.preventChange=!1));break;case"floatLabelType":this.floatLabelType=e.floatLabelType,sf.inputs.Input.removeFloating(this.inputWrapper),sf.inputs.Input.addFloating(this.inputElement,this.floatLabelType,this.placeholder);break;case"strictMode":this.isBlazorServer||(this.invalidValueString=null,e.strictMode&&this.checkErrorState(null),this.setProperties({strictMode:e.strictMode},!0),this.checkValue(this.inputElement.value),this.checkValueChange(null,!1));break;case"scrollTo":this.isBlazorServer?this.popupWrapper&&this.setScrollTo():this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))?(this.popupWrapper&&this.setScrollTo(),this.setProperties({scrollTo:this.checkDateValue(new Date(this.checkInValue(e.scrollTo)))},!0)):this.setProperties({scrollTo:null},!0)}}},t.prototype.checkInValue=function(e){return e instanceof Date?e.toUTCString():""+e},a([sf.base.Property(null)],t.prototype,"width",void 0),a([sf.base.Property(null)],t.prototype,"cssClass",void 0),a([sf.base.Property(!1)],t.prototype,"strictMode",void 0),a([sf.base.Property(null)],t.prototype,"keyConfigs",void 0),a([sf.base.Property(null)],t.prototype,"format",void 0),a([sf.base.Property(!0)],t.prototype,"enabled",void 0),a([sf.base.Property(!1)],t.prototype,"readonly",void 0),a([sf.base.Property({})],t.prototype,"htmlAttributes",void 0),a([sf.base.Property("Never")],t.prototype,"floatLabelType",void 0),a([sf.base.Property(null)],t.prototype,"placeholder",void 0),a([sf.base.Property(1e3)],t.prototype,"zIndex",void 0),a([sf.base.Property(!1)],t.prototype,"enablePersistence",void 0),a([sf.base.Property(!0)],t.prototype,"showClearButton",void 0),a([sf.base.Property(30)],t.prototype,"step",void 0),a([sf.base.Property(null)],t.prototype,"scrollTo",void 0),a([sf.base.Property(null)],t.prototype,"value",void 0),a([sf.base.Property(null)],t.prototype,"min",void 0),a([sf.base.Property(null)],t.prototype,"max",void 0),a([sf.base.Property(!0)],t.prototype,"allowEdit",void 0),a([sf.base.Property(!1)],t.prototype,"openOnFocus",void 0),a([sf.base.Event()],t.prototype,"change",void 0),a([sf.base.Event()],t.prototype,"created",void 0),a([sf.base.Event()],t.prototype,"destroyed",void 0),a([sf.base.Event()],t.prototype,"open",void 0),a([sf.base.Event()],t.prototype,"itemRender",void 0),a([sf.base.Event()],t.prototype,"close",void 0),a([sf.base.Event()],t.prototype,"cleared",void 0),a([sf.base.Event()],t.prototype,"blur",void 0),a([sf.base.Event()],t.prototype,"focus",void 0),t=a([sf.base.NotifyPropertyChanges],t)}(sf.base.Component);return e.TimePicker=d,e}({}))}});